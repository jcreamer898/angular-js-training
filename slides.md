<!--

account_name: appendtoTraining
account_slug: slides
account: 528583bdf5eb7d0d28000067
title: AngularJS Foundations - Full Day
slug: angularjs-foundations-full-day
slideCount: 322
description: ""
createdAt: 2014-08-16T20:17:56.000Z
published: true
private: true
themeVariation: ""
theme: training/1
themeCSS: ""
themeSettings: {}
slidesOrder: 
  - 53efbc747cef8c81290002e3
  - 53f0c3887cef8c81290002ee
  - 53f162ee7cef8c81290002f5
  - 53f15e337cef8c81290002f4
  - 53f1650e7cef8c81290002f9
  - 53f2115f7cef8c81290002fb
  - 53f21c7e7cef8c8129000328
  - 53f219ac7cef8c8129000326
  - 53f15d017cef8c81290002f3
  - 53f217b57cef8c8129000324
  - 53f28b717cef8c8129000337
  - 53f2a0a67cef8c812900033d
  - 53f2a19e7cef8c812900033f
  - 53f2a8bf7cef8c8129000343
  - 53f2a7cd7cef8c8129000341
  - 53f2a9647cef8c8129000344
  - 53f29b327cef8c8129000338
  - 53f29c827cef8c812900033c
  - 53f2117e7cef8c81290002fc
  - 53fab9d97cef8c812900046d
  - 53f211917cef8c81290002fd
  - 53f2123a7cef8c81290002fe
  - 53fb3cc27cef8c8129000476
  - 53f212547cef8c81290002ff
  - 53f4b2e57cef8c812900039d
  - 53f2125e7cef8c8129000300
  - 53fa7cbc7cef8c8129000467
  - 53f4b20a7cef8c812900039c
  - 53f4cb787cef8c81290003a2
  - 53f212687cef8c8129000301
  - 53f4c5c27cef8c81290003a0
  - 53f4c6d37cef8c81290003a1
  - 53f4ef397cef8c81290003ab
  - 53f4c5ab7cef8c812900039f
  - 53f4cdc87cef8c81290003a4
  - 53f4d65a7cef8c81290003a6
  - 53f4d7e47cef8c81290003a7
  - 53f4d6517cef8c81290003a5
  - 53f4cd4b7cef8c81290003a3
  - 53f4db8b7cef8c81290003a9
  - 53f50f9f7cef8c81290003ac
  - 53f512dc7cef8c81290003ad
  - 53f514a17cef8c81290003af
  - 53f51ae57cef8c81290003b3
  - 53f51b227cef8c81290003b4
  - 53f51b627cef8c81290003b5
  - 53f6bb7c7cef8c8129000413
  - 53f51b937cef8c81290003b6
  - 53f51bcd7cef8c81290003b7
  - 53f514da7cef8c81290003b0
  - 53f515d67cef8c81290003b1
  - 53f516b97cef8c81290003b2
  - 53f525137cef8c81290003ba
  - 53f51fa77cef8c81290003b9
  - 53f51f1f7cef8c81290003b8
  - 53f526837cef8c81290003bc
  - 53f5267b7cef8c81290003bb
  - 53f526897cef8c81290003bd
  - 53f526a67cef8c81290003be
  - 53f5273c7cef8c81290003bf
  - 53fb8da67cef8c812900047a
  - 53fa96797cef8c812900046a
  - 53f528087cef8c81290003c0
  - 53fbe0f57cef8c812900047e
  - 53f5ed597cef8c81290003c1
  - 53f5ee487cef8c81290003c2
  - 53f6ba957cef8c8129000412
  - 53f5f6fd7cef8c81290003d2
  - 53f5ee867cef8c81290003c3
  - 53f5ef057cef8c81290003c6
  - 53f5ef117cef8c81290003c7
  - 53f5efae7cef8c81290003c8
  - 53f5f7587cef8c81290003d3
  - 53f5f0497cef8c81290003c9
  - 53f5f1df7cef8c81290003cb
  - 53f5f3897cef8c81290003d0
  - 53f213787cef8c812900030b
  - 53f6b8ec7cef8c812900040c
  - 53f6b9227cef8c812900040e
  - 53f6b8ed7cef8c812900040d
  - 53f6b9637cef8c812900040f
  - 53f6b9f27cef8c8129000410
  - 53f6ba207cef8c8129000411
  - 53f5f8737cef8c81290003d5
  - 53f5f9857cef8c81290003d6
  - 53f5f9a67cef8c81290003d7
  - 53f5fa217cef8c81290003d8
  - 53f5fb7d7cef8c81290003da
  - 53f5fba77cef8c81290003db
  - 53f5fd497cef8c81290003dc
  - 53f5f2d17cef8c81290003cc
  - 53f5f3007cef8c81290003cd
  - 53fb3f977cef8c8129000477
  - 53f5f3577cef8c81290003cf
  - 53f5fe5c7cef8c81290003dd
  - 53f5ffa97cef8c81290003de
  - 53f212a97cef8c8129000304
  - 53f600297cef8c81290003df
  - 53f614e27cef8c81290003e0
  - 53f6187d7cef8c81290003e2
  - 53f615d87cef8c81290003e1
  - 53f619da7cef8c81290003e3
  - 53f61b947cef8c81290003e5
  - 53f61c697cef8c81290003e6
  - 53f621aa7cef8c81290003ec
  - 53f621ee7cef8c81290003ed
  - 53fbdf047cef8c812900047d
  - 53fb80c37cef8c8129000478
  - 53f61d617cef8c81290003e7
  - 53f61db77cef8c81290003e8
  - 53f61e297cef8c81290003e9
  - 53f61e907cef8c81290003ea
  - 53f620867cef8c81290003eb
  - 53f646317cef8c81290003ee
  - 53f6470e7cef8c81290003ef
  - 53f657587cef8c81290003f0
  - 53f658957cef8c81290003f1
  - 53f658f37cef8c81290003f3
  - 53f65abd7cef8c81290003f8
  - 53f6593f7cef8c81290003f4
  - 53f659597cef8c81290003f5
  - 53f659ab7cef8c81290003f6
  - 53f664fa7cef8c81290003fb
  - 53f65b8f7cef8c81290003fa
  - 53f6660f7cef8c81290003fe
  - 53f666267cef8c81290003ff
  - 53f666617cef8c8129000400
  - 53f666947cef8c8129000401
  - 53f666bc7cef8c8129000402
  - 53fab8b77cef8c812900046c
  - 53fa9f597cef8c812900046b
  - 53f668607cef8c8129000403
  - 53fbdef87cef8c812900047c
  - 53f6b2ea7cef8c8129000405
  - 53f6b3207cef8c8129000406
  - 53f6b3b57cef8c8129000407
  - 53f6b41a7cef8c8129000408
  - 53f6b5497cef8c8129000409
  - 53f6b72a7cef8c812900040a
  - 53f6b76c7cef8c812900040b
  - 53f6bc3f7cef8c8129000415
  - 53f6bcd37cef8c8129000416
  - 53f6bd677cef8c8129000417
  - 53f6bdc67cef8c8129000418
  - 53f6bee57cef8c8129000419
  - 53f6c01a7cef8c812900041a
  - 53f6c06d7cef8c812900041b
  - 53f6c0b47cef8c812900041c
  - 53f73fb57cef8c812900041e
  - 53f73fce7cef8c812900041f
  - 53f741887cef8c8129000420
  - 53f746467cef8c8129000422
  - 53f747577cef8c8129000423
  - 53f74ffa7cef8c812900042b
  - 53fb81f47cef8c8129000479
  - 53f750de7cef8c812900042c
  - 53f751657cef8c812900042d
  - 53f747f27cef8c8129000425
  - 53f7491e7cef8c8129000428
  - 53f748c27cef8c8129000426
  - 53f74ccd7cef8c8129000429
  - 53f749047cef8c8129000427
  - 53f74d4a7cef8c812900042a
  - 53f7564d7cef8c812900042e
  - 53f7606e7cef8c8129000431
  - 53f7568e7cef8c812900042f
  - 53f760c47cef8c8129000432
  - 53f7613d7cef8c8129000433
  - 53f762bc7cef8c8129000437
  - 53f7634a7cef8c8129000438
  - 53f763d87cef8c8129000439
  - 53f765a27cef8c812900043d
  - 53f764f07cef8c812900043b
  - 53f765e47cef8c812900043e
  - 53f766697cef8c812900043f
  - 53f766df7cef8c8129000440
  - 53f768f17cef8c8129000444
  - 53f768ff7cef8c8129000445
  - 53f76b387cef8c8129000447
  - 53f76a647cef8c8129000446
  - 53f76c5a7cef8c8129000449
  - 53f76e7e7cef8c812900044c
  - 53f76da67cef8c812900044a
  - 53f2130c7cef8c8129000308
  - 53f7b8ac7cef8c8129000466
  - 53f76fa17cef8c812900044e
  - 53f2138c7cef8c812900030c
  - 53f213a47cef8c812900030d
  - 53f785ee7cef8c8129000451
  - 53f786107cef8c8129000452
  - 53f786d57cef8c8129000453
  - 53f791957cef8c8129000456
  - 53f791fb7cef8c8129000457
  - 53f79d507cef8c812900045e
  - 53f213c67cef8c8129000313
  - 53f790887cef8c8129000455
  - 53f792f17cef8c8129000458
  - 53f7931b7cef8c8129000459
  - 53f784377cef8c8129000450
  - 53f783b17cef8c812900044f
  - 53f213a77cef8c812900030e
  - 53f799147cef8c812900045a
  - 53f799cd7cef8c812900045b
  - 53f79bd07cef8c812900045d
  - 53f213b77cef8c8129000311
  - 53f79bc47cef8c812900045c
  - 53f213be7cef8c8129000312
  - 53fbfcad7cef8c8129000482
  - 53f213d37cef8c8129000314
  - 53f79e617cef8c812900045f
  - 53f7a03c7cef8c8129000461
  - 53f79fc07cef8c8129000460
  - 53f7a1067cef8c8129000463
  - 53f7a19c7cef8c8129000464
  - 53f7a1ff7cef8c8129000465
  - 53fac4577cef8c8129000475
  - 53f2141b7cef8c8129000319
  - 53f264907cef8c8129000329
  - 53f2655f7cef8c812900032c
  - 53f265727cef8c812900032d
  - 53f265a57cef8c812900032e
  - 53f265b57cef8c812900032f
  - 53f26f097cef8c8129000336
  - 53f2675a7cef8c8129000330
  - 53f26b3c7cef8c8129000333
  - 53f26b857cef8c8129000334
  - 53f26bc07cef8c8129000335
  - 53f2142a7cef8c812900031a
  - 53f351e27cef8c8129000345
  - 53f351e97cef8c8129000346
  - 53f353077cef8c8129000348
  - 53f352f57cef8c8129000347
  - 53f214377cef8c812900031b
  - 53f359037cef8c8129000349
  - 53f3674a7cef8c812900034a
  - 53f367827cef8c812900034b
  - 53f369087cef8c812900034c
  - 53f36ba37cef8c812900034d
  - 53f36bb67cef8c812900034e
  - 53f36dba7cef8c812900034f
  - 53f379507cef8c8129000350
  - 53f37bec7cef8c8129000351
  - 53f37e2a7cef8c8129000353
  - 53f384bf7cef8c8129000354
  - 53f386cc7cef8c8129000355
  - 53f387267cef8c8129000356
  - 53f38b377cef8c8129000357
  - 53fabe837cef8c812900046f
  - 53f3a6937cef8c8129000364
  - 53f214647cef8c812900031d
  - 53f3a77f7cef8c8129000365
  - 53f3b5b57cef8c812900036f
  - 53f3ab487cef8c8129000366
  - 53f3b1b57cef8c812900036a
  - 53f3b2c87cef8c812900036b
  - 53f3b3137cef8c812900036c
  - 53f3b4d77cef8c812900036d
  - 53f3b52a7cef8c812900036e
  - 53f3b6ec7cef8c8129000370
  - 53fbfaf97cef8c8129000481
  - 53f3c3cd7cef8c8129000372
  - 53f3c4d47cef8c8129000375
  - 53f3c4eb7cef8c8129000376
  - 53f3c4197cef8c8129000373
  - 53f3b7587cef8c8129000371
  - 53f3c48a7cef8c8129000374
  - 53f3c5b87cef8c8129000377
  - 53f49d357cef8c812900037a
  - 53f3c6b27cef8c8129000379
  - 53f49eae7cef8c812900037b
  - 53f49f9a7cef8c812900037c
  - 53f4a0037cef8c812900037e
  - 53f3a67a7cef8c8129000363
  - 53f2144b7cef8c812900031c
  - 53f3a39f7cef8c812900035a
  - 53f3a3c17cef8c812900035b
  - 53f3a4077cef8c812900035c
  - 53f3a4217cef8c812900035d
  - 53f3a4507cef8c812900035e
  - 53f3991e7cef8c8129000358
  - 53f3a5837cef8c812900035f
  - 53f3a5d47cef8c8129000360
  - 53f3a6187cef8c8129000361
  - 53f3a6587cef8c8129000362
  - 53f4a22e7cef8c8129000380
  - 53f4a3737cef8c8129000383
  - 53f214897cef8c8129000322
  - 53f4a2a57cef8c8129000381
  - 53f4a3037cef8c8129000382
  - 53f4a4437cef8c8129000385
  - 53f4a6627cef8c8129000389
  - 53f4a7ea7cef8c812900038b
  - 53f4a5137cef8c8129000386
  - 53f4a6007cef8c8129000387
  - 53f4a68a7cef8c812900038a
  - 53f4a8767cef8c812900038e
  - 53f4a89b7cef8c812900038f
  - 53f4a8be7cef8c8129000390
  - 53f4a91c7cef8c8129000391
  - 53f4a9547cef8c8129000392
  - 53f4a9827cef8c8129000393
  - 53f4a99f7cef8c8129000394
  - 53f4a9bd7cef8c8129000395
  - 53f4abdf7cef8c8129000398
  - 53f4ac287cef8c8129000399
  - 53fbf8317cef8c812900047f
  - 53fbf88c7cef8c8129000480
  - 53f4a6537cef8c8129000388
  - 53f4a2157cef8c812900037f
  - 53fa8f217cef8c8129000469
  - 53f4ad607cef8c812900039a
  - 53fabf567cef8c8129000470
  - 53f212a17cef8c8129000303
  - 53f214747cef8c812900031f
  - 53f2147b7cef8c8129000320
  - 53f214837cef8c8129000321
  - 53f212e37cef8c8129000307
  - 53f214a67cef8c8129000323
  - 53fac24b7cef8c8129000472
  - 53fac2b67cef8c8129000473
  - 53fac42e7cef8c8129000474
  - 53fac2077cef8c8129000471
metadata: 
  codeblocks: 
    color_scheme: blackboard
    highlight: true
  demos: 
    dependencies: 
      - _id: jQuery-1408713994919
        name: jQuery
        url: //ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js
        version: 2.1.0
        disabled: false
        fileId: ""
      - _id: angular.js-1408540873902
        name: angular.js
        url: "https://code.angularjs.org/1.3.0-beta.18/angular.js"
        version: ""
        disabled: false
        fileId: ""
      - _id: demo-style.css-1408220874047
        name: demo-style.css
        url: ""
        version: ""
        disabled: false
        fileId: 53efbe927cef8c81290002ea
      - _id: angular-route.min.js-1408466264403
        name: angular-route.min.js
        url: "https://code.angularjs.org/1.2.22/angular-route.min.js"
        version: ""
        disabled: false
        fileId: ""
format: markdown
level: ""
topic: ""
topic_name: ""
topic_slug: ""


-->

<!--

_id: 53efbc747cef8c81290002e3
master: content
createdAt: 2014-08-16T20:17:56.000Z
updatedAt: 2014-08-26T20:58:31.118Z


-->

# AngularJS Foundations

## appendTo Training

Follow along 
### http://training.appendto.com/live/844226

-----

<!--

_id: 53f0c3887cef8c81290002ee
master: vertical
createdAt: 2014-08-17T15:00:24.000Z
updatedAt: 2014-08-26T20:58:31.118Z


-->

# Introduction to AngularJS

-----

<!--

_id: 53f162ee7cef8c81290002f5
master: content
createdAt: 2014-08-18T02:20:30.000Z
updatedAt: 2014-08-26T20:58:31.119Z


-->

# AngularJS

* Originally developed in 2009 as software needed for a JSON Storage service company
* Venture was abandoned
* Angular was open sourced
* Miško Hevery now works at Google 
* Google continues to maintain the  project with fellow Google employees  Igor Minár and Vojta Jína

---

<div style="margin-top: -70px;">![](https://s3.amazonaws.com/media.training.appendto.com/projects/53efbc747cef8c81290002e2/angularjs-logo-trans_1408328568284.png)</div>

-----

<!--

_id: 53f15e337cef8c81290002f4
master: vertical
createdAt: 2014-08-18T02:00:19.000Z
updatedAt: 2014-08-26T20:58:31.119Z


-->

# What is AngularJS?

-----

<!--

_id: 53f1650e7cef8c81290002f9
master: vertical
createdAt: 2014-08-18T02:29:34.000Z
updatedAt: 2014-08-26T20:58:31.119Z


-->

# A client-side framework for adding interactivity to HTML

-----

<!--

_id: 53f2115f7cef8c81290002fb
master: vertical
createdAt: 2014-08-18T14:44:47.000Z
updatedAt: 2014-08-26T20:58:31.119Z


-->

# MVC

## Model-View-Controller




-----

<!--

_id: 53f21c7e7cef8c8129000328
master: content
createdAt: 2014-08-18T15:32:14.000Z
updatedAt: 2014-08-26T20:58:31.119Z


-->

# What is MVC?

* A software architechural pattern used for implementing user interfaces
* provides separation of concerns for data and presentation and logic
    * `Model` - Directly manages the application's data, logic and rules
    * `View` - any output representation of information
    * `Controller` - accepts input and converts it to commands for the model or view

-----

<!--

_id: 53f219ac7cef8c8129000326
master: full
createdAt: 2014-08-18T15:20:12.000Z
updatedAt: 2014-08-26T20:58:31.119Z


-->

![](https://s3.amazonaws.com/media.training.appendto.com/projects/53efbc747cef8c81290002e2/500px-MVC-Process_1408375677781.png)

-----

<!--

_id: 53f15d017cef8c81290002f3
master: content
createdAt: 2014-08-18T01:55:13.000Z
updatedAt: 2014-08-26T20:58:31.120Z


-->

# What is AngularJS used for?

Are you using JavaScript to create dynamic websites?

Angular will help you:

* organize your JavaScript
* create performant websites
* work with existing libraries like jQuery
* write testable code

-----

<!--

_id: 53f217b57cef8c8129000324
master: content
createdAt: 2014-08-18T15:11:49.000Z
updatedAt: 2014-08-26T20:58:31.120Z


-->

# "performant"?

## Traditional Websites

* Each page and all of it's assests are requested
* This causes round trips to the server for every asset
* Redundant calls are made
* Excessive use of bandwidth
* Slower page load

-----

<!--

_id: 53f28b717cef8c8129000337
master: content
createdAt: 2014-08-18T23:25:37.000Z
updatedAt: 2014-08-26T20:58:31.120Z


-->

# "performant"?

## AngularJS Websites

* Usually created as a Single Page Application (SPA)
* Assets are loaded once
* Round trips to the server only request the parts of the application that have changed
* Smaller trips to the server
* No full page refresh

-----

<!--

_id: 53f2a0a67cef8c812900033d
master: full
createdAt: 2014-08-19T00:56:06.000Z
updatedAt: 2014-08-26T20:58:31.120Z


-->

# Competitors

![](https://s3.amazonaws.com/media.training.appendto.com/projects/53efbc747cef8c81290002e2/angular-competitors_1408409801365.png)


-----

<!--

_id: 53f2a19e7cef8c812900033f
master: content
createdAt: 2014-08-19T01:00:14.000Z
updatedAt: 2014-08-26T20:58:31.120Z


-->

# Comparison

## Key features

<table width="100%"><tr><th></th><th>Angular</th><th>Backbone</th><th>Ember</th><th>Knockout</th></tr><tr><th align="left">No Dependencies</th><td valign="middle" align="center"><img src="https://s3.amazonaws.com/media.training.appendto.com/projects/53efbc747cef8c81290002e2/check-mark-md_1408410420779.png" width="30"></td><td></td><td></td><td valign="middle" align="center"><img src="https://s3.amazonaws.com/media.training.appendto.com/projects/53efbc747cef8c81290002e2/check-mark-md_1408410420779.png" width="30"></td></tr><tr><th align="left">Data binding</th><td valign="middle" align="center"><img src="https://s3.amazonaws.com/media.training.appendto.com/projects/53efbc747cef8c81290002e2/check-mark-md_1408410420779.png" width="30"></td><td valign="middle" align="center"></td><td valign="middle" align="center"><img src="https://s3.amazonaws.com/media.training.appendto.com/projects/53efbc747cef8c81290002e2/check-mark-md_1408410420779.png" width="30"></td><td valign="middle" align="center"><img src="https://s3.amazonaws.com/media.training.appendto.com/projects/53efbc747cef8c81290002e2/check-mark-md_1408410420779.png" width="30"></td></tr><tr><th align="left">Routing</th><td valign="middle" align="center"><img src="https://s3.amazonaws.com/media.training.appendto.com/projects/53efbc747cef8c81290002e2/check-mark-md_1408410420779.png" width="30"></td><td valign="middle" align="center"><img src="https://s3.amazonaws.com/media.training.appendto.com/projects/53efbc747cef8c81290002e2/check-mark-md_1408410420779.png" width="30"></td><td valign="middle" align="center"><img src="https://s3.amazonaws.com/media.training.appendto.com/projects/53efbc747cef8c81290002e2/check-mark-md_1408410420779.png" width="30"></td><td></td></tr><tr><th align="left">Views</th><td valign="middle" align="center"><img src="https://s3.amazonaws.com/media.training.appendto.com/projects/53efbc747cef8c81290002e2/check-mark-md_1408410420779.png" width="30"></td><td valign="middle" align="center"><img src="https://s3.amazonaws.com/media.training.appendto.com/projects/53efbc747cef8c81290002e2/check-mark-md_1408410420779.png" width="30"></td><td valign="middle" align="center"><img src="https://s3.amazonaws.com/media.training.appendto.com/projects/53efbc747cef8c81290002e2/check-mark-md_1408410420779.png" width="30"></td><td valign="middle" align="center"><img src="https://s3.amazonaws.com/media.training.appendto.com/projects/53efbc747cef8c81290002e2/check-mark-md_1408410420779.png" width="30"></td></tr></table>

-----

<!--

_id: 53f2a8bf7cef8c8129000343
master: vertical
createdAt: 2014-08-19T01:30:39.000Z
updatedAt: 2014-08-26T20:58:31.120Z


-->

# AngularJS known to have a Steep Learning Curve

-----

<!--

_id: 53f2a7cd7cef8c8129000341
master: full
createdAt: 2014-08-19T01:26:37.000Z
updatedAt: 2014-08-26T20:58:31.121Z


-->

![](https://s3.amazonaws.com/media.training.appendto.com/projects/53efbc747cef8c81290002e2/steep-learning-curve_1408411634931.png)

-----

<!--

_id: 53f2a9647cef8c8129000344
master: content
createdAt: 2014-08-19T01:33:24.000Z
updatedAt: 2014-08-26T20:58:31.121Z


-->

# AngularJS

* jQuery is very simple to learn
    * $, selector, action
* Angular is vast. 
    * OO, Controllers, Routers, Dependency Injection, Directives, Promises, Ajax, 2 way binding


`Today's goal is to come out with a basic understanding of AngularJS`

-----

<!--

_id: 53f29b327cef8c8129000338
master: full
createdAt: 2014-08-19T00:32:50.000Z
updatedAt: 2014-08-26T20:58:31.121Z


-->

# MVC Framework Trends

{{codeblock id:"53f29b797cef8c8129000339"}}


-----

<!--

_id: 53f29c827cef8c812900033c
master: full
createdAt: 2014-08-19T00:38:26.000Z
updatedAt: 2014-08-26T20:58:31.121Z


-->

![](https://s3.amazonaws.com/media.training.appendto.com/projects/53efbc747cef8c81290002e2/fluent-conf-tweet_1408408602847.jpg)

-----

<!--

_id: 53f2117e7cef8c81290002fc
master: vertical
createdAt: 2014-08-18T14:45:18.000Z
updatedAt: 2014-08-26T20:58:31.121Z


-->

#  Look at a sample Angular App

-----

<!--

_id: 53fab9d97cef8c812900046d
master: content-alt
createdAt: 2014-08-25T04:21:45.000Z
updatedAt: 2014-08-26T20:58:31.121Z


-->

# Sample App

* https://github.com/appendto/training-labs-angularjs-fundamentals

-----

<!--

_id: 53f211917cef8c81290002fd
master: vertical
createdAt: 2014-08-18T14:45:37.000Z
updatedAt: 2014-08-26T20:58:31.121Z


-->

# Expressions & Directives

## The V

-----

<!--

_id: 53f2123a7cef8c81290002fe
master: content-alt
createdAt: 2014-08-18T14:48:26.000Z
updatedAt: 2014-08-26T20:58:31.122Z


-->

# Getting Started

* Download angular.js from https://code.angularjs.org/
* Install with bower `bower install angular`
* [plnkr.co](http://plnkr.co) is an in-browser playground build with AngularJS
* [angular-seed](https://github.com/angular/angular-seed) is a project that jumpstarts a AngularJS project good place to get started, just clone it and use it
* [Yeoman](http://yeoman.io) is gaining popularity because there's an angular generator

```bash
npm install -g yo
npm install generator-angular
yo angular
```
* Our sample app used angular-seed

-----

<!--

_id: 53fb3cc27cef8c8129000476
master: content
createdAt: 2014-08-25T13:40:18.000Z
updatedAt: 2014-08-26T20:58:31.122Z


-->

# Documentation

* https://docs.angularjs.org
* https://github.com/angular/angular.js/wiki
* SOURCE DIVE https://github.com/angular/angular.js

-----

<!--

_id: 53f212547cef8c81290002ff
master: content
createdAt: 2014-08-18T14:48:52.000Z
updatedAt: 2014-08-26T20:58:31.122Z


-->

# The `ng-app` Directive

## First step to any angular app

* `ng-app` can be placed on any element
    * Usually it's placed on the `<html>` or `<body>` elements
    * Can be placed on a `<div>`
* Tells Angular to run `angular.bootstrap` within that element
* Tells Angular where to start processing HTML
* Usually just one `ng-app` per page
* It then processes all the child elements and runs them through the Angular "compiler".

-----

<!--

_id: 53f4b2e57cef8c812900039d
master: content
createdAt: 2014-08-20T14:38:29.000Z
updatedAt: 2014-08-26T20:58:31.122Z


-->

# simple example


```html
<!DOCTYPE html>
<html ng-app>
    <!-- head tag with script tags, etc. -->
<body>
    <!-- Page content -->
</body>
</html>
```

* `ng-app` is on the `<html>` tag

**Troubleshooting Tip**
* `ng-app` is very common to forget, so if Angular isn't running, make sure you have declared your `ng-app` directive

-----

<!--

_id: 53f2125e7cef8c8129000300
master: content
createdAt: 2014-08-18T14:49:02.000Z
updatedAt: 2014-08-26T20:58:31.122Z


-->

# Expressions

* Uses "handlebars" syntax

```js
{{2 + 2}}
```

* Can evaluate any JavaScript expression
* Runs againast a "scope" instead of the window (more later)
* No errors are thrown
* The Angular compiler uses a parser to look through the HTML and evaluate expressions
* Does all this with the `$parse` service


-----

<!--

_id: 53fa7cbc7cef8c8129000467
master: content
createdAt: 2014-08-25T00:01:00.000Z
updatedAt: 2014-08-26T20:58:31.122Z


-->

# Expressions

## Not Allowed

```js
//conditionals
{{ if (true) { x=y; } }}

//loops
{{ for (var i=0; i <= 5; i++) { x = x+i; } }}

// exceptions
{{ try { x / 0 } catch (ex) { throw; } }}
```




-----

<!--

_id: 53f4b20a7cef8c812900039c
master: content
createdAt: 2014-08-20T14:34:50.000Z
updatedAt: 2014-08-26T20:58:31.123Z


-->

# Expressions example


```html
<!DOCTYPE html>
<html ng-app>
    <!-- script tags etc -->
<body>
    2 + 2 = {{2 + 2}}
    
    {{no.errors.here}}
</body>
</html>
```
* Starting at `ng-app`, Angular parses the HTML
* Looks for `ng-*` and `{{ }}`'s in the HTML

**Tip**
We can also use `data-ng-*` if we want "valid" HTML

-----

<!--

_id: 53f4cb787cef8c81290003a2
master: content-alt
createdAt: 2014-08-20T16:23:20.000Z
updatedAt: 2014-08-26T20:58:31.123Z


-->

#  `$parse`

## How it works


```js
var getter = $parse("2 + 2")
getter() // 4
```

* Converts an expression to a function
* The converted function runs against a "context" called Scope
* When you have an expression like 2 + 2 on the page, angular uses something called the parser 
* This parser returns a function you can call to execute the expression
* Angular links this expression to a scope later

-----

<!--

_id: 53f212687cef8c8129000301
master: vertical
createdAt: 2014-08-18T14:49:12.000Z
updatedAt: 2014-08-26T20:58:31.123Z


-->

# scope

-----

<!--

_id: 53f4c5c27cef8c81290003a0
master: content
createdAt: 2014-08-20T15:58:58.000Z
updatedAt: 2014-08-26T20:58:31.123Z


-->

# Scope

* Every expression runs against a context known as a "scope"
* The scope in Angular is an object where the application's model is stored
* Scope isn't the model, but rather a place to hold the model

-----

<!--

_id: 53f4c6d37cef8c81290003a1
master: content
createdAt: 2014-08-20T16:03:31.000Z
updatedAt: 2014-08-26T20:58:31.123Z


-->

# `$rootscope`



```html
<!DOCTYPE html>
<html ng-app>
<body>
    <h1>Hello World</h1>
</body>
</html>
```
* `ng-app`, will create instance of `Scope` called the "Root Scope"
* You can retrieve the "Root Scope" with the `$rootScope` variable which we'll discuss later

-----

<!--

_id: 53f4ef397cef8c81290003ab
master: content
createdAt: 2014-08-20T18:55:53.000Z
updatedAt: 2014-08-26T20:58:31.123Z


-->

# Scope properties

* `angular.element` is jQLite with bonus features
* Use `angular.element(document.documentElement).scope()` to get the scope on the `<html>` element
* In this case, it will be the `$rootScope`

![](http://d.pr/i/SWtX+)

-----

<!--

_id: 53f4c5ab7cef8c812900039f
master: content
createdAt: 2014-08-20T15:58:35.000Z
updatedAt: 2014-08-26T20:58:31.124Z


-->

# `ng-init`



```html
<!DOCTYPE html>
<html ng-app>
    <!-- script tags etc -->
<body ng-init="user.name = 'Ralph Whitbeck'">
    VP of Training at appendTo: {{user.name}}
</body>
</html>
```
* `ng-init` allows you to run an expression against the current scope
* It will automatically create model data on the scope
* This all happens behind the scenes for you!
* Not something you'll use a lot, but good to have

-----

<!--

_id: 53f4cdc87cef8c81290003a4
master: content
createdAt: 2014-08-20T16:33:12.000Z
updatedAt: 2014-08-26T20:58:31.124Z


-->

# 2 way binding

* Update the view when the model changes
* Update the model when the view changes
* Pure JavaScript or jQuery take an imperative approach with boilerplate code
* Imperative coding involves describing how code works, mosly in JavaSCript
* Angular is declarative with little to no JavaScript to achieve 2 way binding
* Delcarative means there's more code describing behavior in the HTML and less actual JavaScript 

-----

<!--

_id: 53f4d65a7cef8c81290003a6
master: content
createdAt: 2014-08-20T17:09:46.000Z
updatedAt: 2014-08-26T20:58:31.124Z


-->

# 2 way binding

## The pure JS way: imperative

```html
<input id="name" type="text" />
Your name: <span id="result"></span>
```

```js
document.addEventListener('DOMContentLoaded', function() {
    var name = document.getElementById('name'),
        result = document.getElementById('result');
    
    name.addEventListener('keyup', function() {
        result.textContent = name.value;
    });
});
```

-----

<!--

_id: 53f4d7e47cef8c81290003a7
master: content
createdAt: 2014-08-20T17:16:20.000Z
updatedAt: 2014-08-26T20:58:31.124Z


-->

# 2 way binding

## The jQuery way: imperative

```html
<input id="name" type="text" />
Your name: <span id="result"></span>
```

```js
$(function() {
    var $name = $("#name"),
        $result = $("#result");
    
    $name.on("keyup", function() {
        $result.text(this.value);
    });
});
```

-----

<!--

_id: 53f4d6517cef8c81290003a5
master: content
createdAt: 2014-08-20T17:09:37.000Z
updatedAt: 2014-08-26T20:58:31.124Z


-->

# 2 way binding

## The Angular way: Declarative

```html
<!DOCTYPE html>
<html ng-app>
    <!-- script tags etc -->
<body>
    <input type="text" ng-model="user.name" />
    Your Name: {{user.name}}
</body>
</html>
```

-----

<!--

_id: 53f4cd4b7cef8c81290003a3
master: content
createdAt: 2014-08-20T16:31:07.000Z
updatedAt: 2014-08-26T20:58:31.124Z


-->

# 2 way binding



```html
<!DOCTYPE html>
<html ng-app>
    <!-- script tags etc -->
<body ng-init="user.name = 'jonathan'">
    <input type="text" ng-model="user.name" />
    Your Name: {{user.name}}
</body>
</html>
```

* You can see with `ng-init` that this is happening both ways
* Model -> View
* View -> Model

-----

<!--

_id: 53f4db8b7cef8c81290003a9
master: content
createdAt: 2014-08-20T17:31:55.000Z
updatedAt: 2014-08-26T20:58:31.125Z


-->

# ng-model

* Binds an element's value to the scope
* Works on `input`, `select`, and `textarea` elements by using event handlers for you 
* Will also create values on scope if they don't exist already
* Supports validation which we'll cover later

-----

<!--

_id: 53f50f9f7cef8c81290003ac
master: content
createdAt: 2014-08-20T21:14:07.000Z
updatedAt: 2014-08-26T20:58:31.125Z


-->

# Contact Form

```html
<body ng-app>
    <form>
        <input type="text" ng-model="user.name" placeholder="Name" />
        <input type="text" ng-model="user.email" placeholder="Email" />
        <select ng-model="user.emailType">
            <option>Work</option>
            <option>Home</option>   
        </select>
        <textarea ng-model="user.comment"></textarea>
    </form>
    
    <div>Name: {{user.name}}</div>
    <div>Email: {{user.email}}</div>
    <div>Type: {{user.emailType}}</div>
    <div>Comment: {{user.comment}}</div>
</body>
```

-----

<!--

_id: 53f512dc7cef8c81290003ad
master: vertical
createdAt: 2014-08-20T21:27:56.000Z
updatedAt: 2014-08-26T20:58:31.125Z


-->

# How is this possible??

<img src="http://3.bp.blogspot.com/-QWWMt9EIYGY/UYh2TDoTjcI/AAAAAAAACBc/OjfEmjyi2EU/s1600/magic+meme.gif" style="margin:0 auto; width 100%;">

-----

<!--

_id: 53f514a17cef8c81290003af
master: vertical
createdAt: 2014-08-20T21:35:29.000Z
updatedAt: 2014-08-26T20:58:31.125Z


-->

# Directives

-----

<!--

_id: 53f51ae57cef8c81290003b3
master: content
createdAt: 2014-08-20T22:02:13.000Z
updatedAt: 2014-08-26T20:58:31.125Z


-->

# `angular.module`

* Before we jump into directives, let's explore `angular.module`
* `angular.module` is a way to break up your application into components
* Multiple components helps with maintainability
* Typically there will be a main "app" module
    * Additional modules can be loaded in 

-----

<!--

_id: 53f51b227cef8c81290003b4
master: content
createdAt: 2014-08-20T22:03:14.000Z
updatedAt: 2014-08-26T20:58:31.126Z


-->

# `angular.module`

* To create a module, pass an array as the second argument

```js
angular.module('introToAngularApp', []);
```

* To retrieve a module, simple call it

```js
var app = angular.module('introToAngularApp');
```

* The `[]` is only used when first creating the module, not when adding objects to the module later
* The `[]` is for adding depende3ncies

-----

<!--

_id: 53f51b627cef8c81290003b5
master: content
createdAt: 2014-08-20T22:04:18.000Z
updatedAt: 2014-08-26T20:58:31.126Z


-->

# `angular.module`

## Why the array?

* The array is where you ask for additional modules
* Angular has several "first party" modules
* You can also load your own custom modules

```js
angular.module('introToAngularApp', []);
```

-----

<!--

_id: 53f6bb7c7cef8c8129000413
master: content
createdAt: 2014-08-22T03:39:40.000Z
updatedAt: 2014-08-26T20:58:31.126Z


-->

# `angular.module`

```js
var app = angular.module('introToAngularApp');
```

* `angular.module('name')` returns an object that you can use to setup your module

-----

<!--

_id: 53f51b937cef8c81290003b6
master: content
createdAt: 2014-08-20T22:05:07.000Z
updatedAt: 2014-08-26T20:58:31.126Z


-->

# `angular.module`

## Loading an app module

```js
angular.module('introToAngularApp', []);
```
```html
<!DOCTYPE html>
<html ng-app="introToAngularApp">
<body>
</body>
</html>
```

-----

<!--

_id: 53f51bcd7cef8c81290003b7
master: content
createdAt: 2014-08-20T22:06:05.000Z
updatedAt: 2014-08-26T20:58:31.126Z


-->

# `angular.module`

## Dependencies

```js
angular.module('introToAngularApp', [
    'ngRoute', // 1st party angular
    'my.custom' // Custom module
]);
```
```html
<!DOCTYPE html>
<html ng-app="introToAngularApp">
<body>
</body>
</html>
```
* `ngRoute` is an angular routing plugin 
* `introToAngularApp.controllers` would be a custom module you define

-----

<!--

_id: 53f514da7cef8c81290003b0
master: content
createdAt: 2014-08-20T21:36:26.000Z
updatedAt: 2014-08-26T20:58:31.126Z


-->

# What's a directive?

> "Directives are markers on a DOM element that tell AngularJS's compiler ($compile) to attach a specific behavior to that DOM element, or even transform the DOM element and its children"

* We've already seen the `ng-app`, `ng-init`, and `ng-model` directives
* Can be classes, attributes, or elements
* There's many built in directives
* You can also create your own custom directives
* They can have their own scopes

-----

<!--

_id: 53f515d67cef8c81290003b1
master: content-alt
createdAt: 2014-08-20T21:40:38.000Z
updatedAt: 2014-08-26T20:58:31.127Z


-->

# `$compile`

## How it works

* As previously stated, after Angular bootstraps a module with `ng-app`, or `angular.bootstrap`, the compiler runs
* The compiler traverses the DOM and gathers up all the directives
* The directives get sorted by priority
* Each directive runs a `compile` function
* Each directive gets linked to a scope with a `link` function

-----

<!--

_id: 53f516b97cef8c81290003b2
master: content
createdAt: 2014-08-20T21:44:25.000Z
updatedAt: 2014-08-26T20:58:31.127Z


-->

# how it works Example

```js
var $compile = ...; // injected into your code
var scope = ...;
var parent = ...; // DOM element where the compiled template can be appended

var html = '<div>{{exp}}</div>';

// Step 1: parse HTML into DOM element
var template = angular.element(html);

// Step 2: compile the template
var linkFn = $compile(template);

// Step 3: link the compiled template with the scope.
var element = linkFn(scope);

// Step 4: Append to DOM (optional)
parent.appendChild(element);
```

-----

<!--

_id: 53f525137cef8c81290003ba
master: content
createdAt: 2014-08-20T22:45:39.000Z
updatedAt: 2014-08-26T20:58:31.127Z


-->

# Scope life cycle


* In a normal JavaScript application, after the code is done running, the browser just has to wait for events
* After compiling, Angular does things differently to acheive the 2 way binding possible with directives and scope

-----

<!--

_id: 53f51fa77cef8c81290003b9
master: content
createdAt: 2014-08-20T22:22:31.000Z
updatedAt: 2014-08-26T20:58:31.127Z


-->

# Scope life cycle

* The linking process attaches scope to an element
* Angular has a loop that is constantly watching for changes on scope
* There is an "Angular execution context"
* In order to stay inside the "Angular execution context" model changes have to execute inside of the **Scope Life Cycle**

-----

<!--

_id: 53f51f1f7cef8c81290003b8
master: content
createdAt: 2014-08-20T22:20:15.000Z
updatedAt: 2014-08-26T20:58:31.127Z


-->

# Scope life cycle 

## Step 1

* Creation
    * Root scope created, then all child scopes are created


-----

<!--

_id: 53f526837cef8c81290003bc
master: content
createdAt: 2014-08-20T22:51:47.000Z
updatedAt: 2014-08-26T20:58:31.127Z


-->

# Scope life cycle 

## Step 2

* Watcher Registration
    * Templates are linked, directives add "watches" to the  "model" on the scope 
    * A watch is a function that will eventually trigger when the model changes

-----

<!--

_id: 53f5267b7cef8c81290003bb
master: content
createdAt: 2014-08-20T22:51:39.000Z
updatedAt: 2014-08-26T20:58:31.127Z


-->

# Scope life cycle

## Step 3

* Model Mutation
    * The model changes inside of `$scope.$apply` which happens automatically most of the time
    * If you do something outside of Angular's main workflow like with an external library, you have to manually call `$scope.$apply()` to let Angular know
    * Example here is typing into an input box 

-----

<!--

_id: 53f526897cef8c81290003bd
master: content
createdAt: 2014-08-20T22:51:53.000Z
updatedAt: 2014-08-26T20:58:31.128Z


-->

# Scope life cycle 

## Step 4

* Mutation Observation
    * After `scope.$apply`, there is a `$digest` cycle that compares model values
    * If the value on the model has changed, the `$watch` listeners are fired


-----

<!--

_id: 53f526a67cef8c81290003be
master: content
createdAt: 2014-08-20T22:52:22.000Z
updatedAt: 2014-08-26T20:58:31.128Z


-->

# Scope life cycle 

## Step 5

* Scope destruction
    * Rinse and repeat

-----

<!--

_id: 53f5273c7cef8c81290003bf
master: content
createdAt: 2014-08-20T22:54:52.000Z
updatedAt: 2014-08-26T20:58:31.128Z


-->

# Scope life cycle TL:DR;

* All that stuff happens when the text in this input box changes...

```html
<!DOCTYPE html>
<html ng-app>
    <!-- script tags etc -->
<body>
    <input type="text" ng-model="user.name" />
    Your Name: {{user.name}}
</body>
</html>
```

-----

<!--

_id: 53fb8da67cef8c812900047a
master: vertical
createdAt: 2014-08-25T19:25:26.000Z
updatedAt: 2014-08-26T20:58:31.128Z


-->

# How is this possible??

<img src="http://3.bp.blogspot.com/-QWWMt9EIYGY/UYh2TDoTjcI/AAAAAAAACBc/OjfEmjyi2EU/s1600/magic+meme.gif" style="margin:0 auto; width 100%;">

-----

<!--

_id: 53fa96797cef8c812900046a
master: content-alt
createdAt: 2014-08-25T01:50:49.000Z
updatedAt: 2014-08-26T20:58:31.128Z


-->

# Lab

* Go here, and "fork" this plunk
* http://plnkr.co/edit/ZGKeoR

-----

<!--

_id: 53f528087cef8c81290003c0
master: vertical
createdAt: 2014-08-20T22:58:16.000Z
updatedAt: 2014-08-26T20:58:31.128Z


-->

# BREAK

## 710958

{{ results }}
highspeedccc
710958

-----

<!--

_id: 53fbe0f57cef8c812900047e
master: vertical
createdAt: 2014-08-26T01:20:53.000Z
updatedAt: 2014-08-26T20:58:31.129Z


-->

# Controllers

-----

<!--

_id: 53f5ed597cef8c81290003c1
master: content
createdAt: 2014-08-21T13:00:09.000Z
updatedAt: 2014-08-26T20:58:31.129Z


-->

# Controllers

* The mediator between the view and the model
* Meant to be thin
* Little logic and state
* Sets up variables and functions for the view to bind to


-----

<!--

_id: 53f5ee487cef8c81290003c2
master: content
createdAt: 2014-08-21T13:04:08.000Z
updatedAt: 2014-08-26T20:58:31.129Z


-->

# Controllers


{{codeblock id:"53f5eeb27cef8c81290003c5"}}

* Use the `angular.module` to retrieve or create a module
* The function is a factory function
* Controllers can get instantiated multiple times in an application


-----

<!--

_id: 53f6ba957cef8c8129000412
master: content
createdAt: 2014-08-22T03:35:49.000Z
updatedAt: 2014-08-26T20:58:31.129Z


-->

# Controllers

* You can also create controllers without the anonymous function like this...

```js
(function() {
    function MainCtrl ($scope) {
        $scope.title = 'Home';
    }
    
    angular.module('introToAngularApp')
        .controller('MainCtrl', MainCtrl);
}());
```

* Usually better that way, but we'll mostly use anonymous fn's for brevity 
* The IIFE here is a good practice to not expose `MainCtrl` to the `window`

-----

<!--

_id: 53f5f6fd7cef8c81290003d2
master: content
createdAt: 2014-08-21T13:41:17.000Z
updatedAt: 2014-08-26T20:58:31.129Z


-->

# `ng-controller`

* It's another directive...

```html
<body ng-app="introToAngularApp">
    <div ng-controller="MainCtrl">
    </div>
</body>
```
* There's now a `$rootScope`, and a child scope for the controller on the page

-----

<!--

_id: 53f5ee867cef8c81290003c3
master: content
createdAt: 2014-08-21T13:05:10.000Z
updatedAt: 2014-08-26T20:58:31.129Z


-->

# `$scope` in Controllers

{{codeblock id:"53f5eeb27cef8c81290003c5"}}

* Controllers get their own child scope in the life cycle
* The scope prototypically inherits from `$rootScope`
* A "DOM like" tree of scopes gets created
* The `$scope` gets automatically "injected" (more later)

-----

<!--

_id: 53f5ef057cef8c81290003c6
master: content
createdAt: 2014-08-21T13:07:17.000Z
updatedAt: 2014-08-26T20:58:31.130Z


-->

# `$scope` in Controllers

{{codeblock id:"53f5eeb27cef8c81290003c5" highlight:"2"}}

* The `$scope` gets automatically "injected" (more later)

-----

<!--

_id: 53f5ef117cef8c81290003c7
master: content
createdAt: 2014-08-21T13:07:29.000Z
updatedAt: 2014-08-26T20:58:31.130Z


-->

# `$scope` in Controllers

{{codeblock id:"53f5eeb27cef8c81290003c5" highlight:"3"}}

* In the Scope Life Cycle, angular will set up a watch for `title`
* Any time it changes in the controller, it changes in the view, and visa versa

-----

<!--

_id: 53f5efae7cef8c81290003c8
master: content
createdAt: 2014-08-21T13:10:06.000Z
updatedAt: 2014-08-26T20:58:31.130Z


-->

# `$scope` in Controllers

```html
<body ng-app="introToAngularApp">
    <div ng-controller="MainCtrl">
        {{title}}
    </div>
</body>
```

* `$scope` in a controller is like a "View Model"
* Whatever you put on the `$scope` is available in the view

-----

<!--

_id: 53f5f7587cef8c81290003d3
master: content
createdAt: 2014-08-21T13:42:48.000Z
updatedAt: 2014-08-26T20:58:31.130Z


-->

# `$scope` in Controllers

```html
<body> --$rootScope
    <div ng-controller="MainCtrl"> --Child Scope 
    </div>
</body>
```
* Root scope is on the body
* Child scope for the controller is on the div

-----

<!--

_id: 53f5f0497cef8c81290003c9
master: content
createdAt: 2014-08-21T13:12:41.000Z
updatedAt: 2014-08-26T20:58:31.130Z


-->

# `$scope` in Controllers

{{codeblock id:"53f5f0887cef8c81290003ca"}}

* Functions on the `$scope`


-----

<!--

_id: 53f5f1df7cef8c81290003cb
master: content
createdAt: 2014-08-21T13:19:27.000Z
updatedAt: 2014-08-26T20:58:31.130Z


-->

# `$scope` in Controllers

```html
<body ng-app="introToAngularApp">
    <div ng-controller="ContactCtrl">
        <input type="text" ng-model="user.name" placeholder="Name" />
        <input type="email" ng-model="user.email" placeholder="Email" />
        <textarea ng-model="user.comment" placeholder="Name"></textarea>
        <button ng-click="send(user.name, user.email, user.comment)">Send</button>
    </div>
</body>
```

* Example

-----

<!--

_id: 53f5f3897cef8c81290003d0
master: content
createdAt: 2014-08-21T13:26:33.000Z
updatedAt: 2014-08-26T20:58:31.130Z


-->

# `$scope` in Controllers

```html
<body ng-app="introToAngularApp">
    <div ng-controller="ContactCtrl">
        <input type="text" ng-model="user.name" placeholder="Name" />
        <input type="email" ng-model="user.email" placeholder="Email" />
        <textarea ng-model="user.comment" placeholder="Name"></textarea>
        <button ng-click="send()">Send</button>
    </div>
</body>
```

* Or like this, same thing, just... different

-----

<!--

_id: 53f213787cef8c812900030b
master: content
createdAt: 2014-08-18T14:53:44.000Z
updatedAt: 2014-08-26T20:58:31.131Z


-->

# Dependency Injection

* Dependency injection (DI) is a design pattern that changes how an object gets its dependencies
* Rather than an object having explicit dependencies, they are usually passed in automatically with DI
* Makes things easier to test
* Decouples 



-----

<!--

_id: 53f6b8ec7cef8c812900040c
master: content
createdAt: 2014-08-22T03:28:44.000Z
updatedAt: 2014-08-26T20:58:31.131Z


-->

# DI example

* Rather than...

```js
function MainCtrl() {
    this.scope = new Scope();
}
```
* You have...

```js
function MainCtrl(scope) {
    this.scope = scope;
}
```

-----

<!--

_id: 53f6b9227cef8c812900040e
master: content
createdAt: 2014-08-22T03:29:38.000Z
updatedAt: 2014-08-26T20:58:31.131Z


-->

# Dependency Injection

* The dependency is passed in automatically
* Whatever creates an instance of that function ensures its dependencies are properly created

-----

<!--

_id: 53f6b8ed7cef8c812900040d
master: content
createdAt: 2014-08-22T03:28:45.000Z
updatedAt: 2014-08-26T20:58:31.131Z


-->

# Dependency Injection in angular

* There are 3 ways to do Dependency Injection in Angular
* Automatic
* Array notation
* `$inject` service


-----

<!--

_id: 53f6b9637cef8c812900040f
master: content
createdAt: 2014-08-22T03:30:43.000Z
updatedAt: 2014-08-26T20:58:31.131Z


-->

# Automatic Dependency Injection

```js
angular.module('introToAngularApp', [])
    .controller('MainCtrl', function($scope) {
        $scope.title = "Home";
    });
```

* You've seen this with `$scope` already
* When angular creates an instance of this controller, it parses out the arguments of the function and injects the necessary dependencies
* MOAR MAGIC (Function.toString() FTW)

-----

<!--

_id: 53f6b9f27cef8c8129000410
master: content
createdAt: 2014-08-22T03:33:06.000Z
updatedAt: 2014-08-26T20:58:31.131Z


-->

# Array notation

```js
angular.module('introToAngularApp', [])
    .controller('MainCtrl', ['$scope', function($scope) {
        $scope.title = "Home";
    }]);
```

* Problem with this is minification, so you can use array notation to fix it

-----

<!--

_id: 53f6ba207cef8c8129000411
master: content
createdAt: 2014-08-22T03:33:52.000Z
updatedAt: 2014-08-26T20:58:31.132Z


-->

# Array notation

```js
function MainCtrl($scope) {
    $scope.title = 'Home';
}

MainCtrl.$inject = ['$scope'];

angular.module('introToAngularApp', [])
    .controller('MainCtrl', MainCtrl);
```

* Both of those methods are basically just parsing the names of the dependencies and adding them to the `$inject` list on the function
* Angular does that automatically

-----

<!--

_id: 53f5f8737cef8c81290003d5
master: content
createdAt: 2014-08-21T13:47:31.000Z
updatedAt: 2014-08-26T20:58:31.132Z


-->

# Scope tree

## Prototypical Inheritance

```js
angular.module('introToAngularApp', [])
    .controller('MainCtrl', function ($scope) {
        // $scope.title = 'Home';
    });
```
```html
<body ng-app="introToAngularApp" ng-init="title = 'in the root'">
    <div ng-controller="MainCtrl">
        {{title}}
    </div>
</body>
```

* The controller scope inherits properties from the `$rootscope`

-----

<!--

_id: 53f5f9857cef8c81290003d6
master: content
createdAt: 2014-08-21T13:52:05.000Z
updatedAt: 2014-08-26T20:58:31.132Z


-->

# Scope tree

## Prototypical Inheritance Ramifications

```js
angular.module('introToAngularApp', [])
    .controller('MainCtrl', function ($scope) {
        $scope.title = 'Home';
    });
```
```html
<body ng-app="introToAngularApp" ng-init="title = 'in the root'">
    {{title}}
    <div ng-controller="MainCtrl">
        {{title}}
    </div>
</body>
```

* What happens if the child has a title?

-----

<!--

_id: 53f5f9a67cef8c81290003d7
master: content
createdAt: 2014-08-21T13:52:38.000Z
updatedAt: 2014-08-26T20:58:31.132Z


-->

# Scope tree

## Prototypical Inheritance Ramifications

```js
angular.module('introToAngularApp', [])
    .controller('MainCtrl', function ($scope) {
        $scope.page.title = 'Home';
    });
```
```html
<body ng-app="introToAngularApp" ng-init="page.title = 'in the root'">
    {{page.title}}
    <div ng-controller="MainCtrl">
        {{page.title}}
    </div>
</body>
```

* This *could* be what you want, but generally, TRY to have a "." in your model

-----

<!--

_id: 53f5fa217cef8c81290003d8
master: content
createdAt: 2014-08-21T13:54:41.000Z
updatedAt: 2014-08-26T20:58:31.132Z


-->

# Prototypical inheritance

```js
function Root() {} 
Root.prototype.name = "root";

function Child() {}
Child.prototype = Object.create(Root);
Child.prototype.constructor = Child;
```

* This is your typical inheritance scenario

-----

<!--

_id: 53f5fb7d7cef8c81290003da
master: content
createdAt: 2014-08-21T14:00:29.000Z
updatedAt: 2014-08-26T20:58:31.133Z


-->

# Prototypical inheritance

```js
function Root() {} 
Root.prototype.name = "root";

function Child() {}
Child.prototype = Object.create(Root);
Child.prototype.constructor = Child;

var child = new Child();
child.name; // "root"
```

* Will look UP the prototype chain to find `name`

-----

<!--

_id: 53f5fba77cef8c81290003db
master: content
createdAt: 2014-08-21T14:01:11.000Z
updatedAt: 2014-08-26T20:58:31.133Z


-->

# Prototypical inheritance

```js
function Root() {} 
Root.prototype.name = "root";

function Child() {}
Child.prototype = Object.create(Root);
Child.prototype.constructor = Child;

Child.prototype.name = "child";

var child = new Child();
child.name; // "child"
```

* Overwrites `name` here

-----

<!--

_id: 53f5fd497cef8c81290003dc
master: content
createdAt: 2014-08-21T14:08:09.000Z
updatedAt: 2014-08-26T20:58:31.133Z


-->

# Prototypical inheritance

```js
function Scope() {}
// ...
$new: function() {
    if (!this.$$childScopeClass) {
        this.$$childScopeClass = function() {
            // blah blah...
        };
        this.$$childScopeClass.prototype = this;
    }
    child = new this.$$childScopeClass();
    // ...
    return child;
}
```

* Angular's scope is merely a constructor function called `Scope`
* Every child scope, prototypically  inherits from it

-----

<!--

_id: 53f5f2d17cef8c81290003cc
master: content
createdAt: 2014-08-21T13:23:29.000Z
updatedAt: 2014-08-26T20:58:31.133Z


-->

# Controlleras

* `$scope` works just fine, but gets messy
* They added `controllerAs` syntax to clean it up
* Helps with nesting controllers too

-----

<!--

_id: 53f5f3007cef8c81290003cd
master: content
createdAt: 2014-08-21T13:24:16.000Z
updatedAt: 2014-08-26T20:58:31.133Z


-->

# ControllerAs

{{codeblock id:"53f5f3147cef8c81290003ce"}}

* You can add to `this` rather than `$scope`
* Angular automatically adds it to `$scope` for you


-----

<!--

_id: 53fb3f977cef8c8129000477
master: content
createdAt: 2014-08-25T13:52:23.000Z
updatedAt: 2014-08-26T20:58:31.133Z


-->

# ControllerAs

```js
angular.module('introToAngularApp', [])
    .controller('ContactCtrl', function() {
        var self = this;
    
        this.user = {
            name: "",
            email: "",
            comment: ""
        };

        this.send = function(name, email, comment) {
            console.log(self.user);
        };
    });
```


* Watch out for "this" problems
* Not an Angular issue, just a JavaScript thing

-----

<!--

_id: 53f5f3577cef8c81290003cf
master: content
createdAt: 2014-08-21T13:25:43.000Z
updatedAt: 2014-08-26T20:58:31.134Z


-->

# controlleras in the view

## Example



```html
<body ng-app="introToAngularApp">
    <div ng-controller="ContactCtrl as vm">
        <input type="text" ng-model="vm.user.name" placeholder="Name" />
        <input type="email" ng-model="vm.user.email" placeholder="Email" />
        <textarea ng-model="vm.user.comment" placeholder="Name"></textarea>
        <button ng-click="send(vm.user.name, vm.user.email, vm.user.comment)">Send</button>
    </div>
</body>
```

-----

<!--

_id: 53f5fe5c7cef8c81290003dd
master: content
createdAt: 2014-08-21T14:12:44.000Z
updatedAt: 2014-08-26T20:58:31.134Z


-->

# Nested controllers


```html
<body ng-app="introToAngularApp">
    <div ng-controller="FirstCtrl as first">
        <div ng-controller="SecondCtrl as second">
            {{first.user.name}}
            {{second.profile.age}}          
        </div>
    </div>
</body>
```
```js
angular.module('introToAngularApp', [])
    .controller('FirstCtrl', function() {
        this.user = { name: 'jonathan' };
    })
    .controller('SecondCtrl', function() {
        this.profile = { age: 26 };
    });
```

-----

<!--

_id: 53f5ffa97cef8c81290003de
master: content
createdAt: 2014-08-21T14:18:17.000Z
updatedAt: 2014-08-26T20:58:31.134Z


-->

# Nested controllers

## Without controllerAs


```html
<body ng-app="introToAngularApp">
    <div ng-controller="FirstCtrl">
        <div ng-controller="SecondCtrl">
            {{user.name}}
            {{profile.age}}         
        </div>
    </div>
</body>
```
```js
angular.module('introToAngularApp', [])
    .controller('FirstCtrl', function($scope) {
        $scope.user = { name: 'jonathan' };
    })
    .controller('SecondCtrl', function($scope) {
        $scope.profile = { age: 26 };
    });
```

-----

<!--

_id: 53f212a97cef8c8129000304
master: vertical
createdAt: 2014-08-18T14:50:17.000Z
updatedAt: 2014-08-26T20:58:31.134Z


-->

# Built-in directives

-----

<!--

_id: 53f600297cef8c81290003df
master: content
createdAt: 2014-08-21T14:20:25.000Z
updatedAt: 2014-08-26T20:58:31.134Z


-->

# Built-in directives

* There are many built-in directives
* Many for the different DOM events 
* `ng-click`, `ng-submit`, `ng-mouse-over`, etc...
* Control page like `ng-css`, `ng-show`
* There's a few directives that just add behaviors to existing elements
* `a`, `input`, `form`, `script`, `select`, and `textarea`

-----

<!--

_id: 53f614e27cef8c81290003e0
master: content
createdAt: 2014-08-21T15:48:50.000Z
updatedAt: 2014-08-26T20:58:31.134Z


-->

# Events

* With jQuery you have to explicitly add code to listen for events

```js
$("#button").on("click", function() {});
```
* Angular simplifies that which makes testing easier


-----

<!--

_id: 53f6187d7cef8c81290003e2
master: content
createdAt: 2014-08-21T16:04:13.000Z
updatedAt: 2014-08-26T20:58:31.135Z


-->

# Events

* The usual event type suspects...
* `ng-blur`, `ng-change`, `ng-checked`, `ng-click`, `ng-copy`, `ng-cut`, `ng-dblclick`, `ng-focus`, `ng-keydown`, `ng-keypress`, `ng-keyup`, `ng-mousedown`, `ng-mouseenter`, `ng-mouseleave`, `ng-mousemove`, `ng-mouseover`, `ng-mouseup`, `ng-open`, `ng-paste`, `ng-submit`

-----

<!--

_id: 53f615d87cef8c81290003e1
master: content
createdAt: 2014-08-21T15:52:56.000Z
updatedAt: 2014-08-26T20:58:31.135Z


-->

# Events

```html
<body ng-app="EventsDemo">
    <div ng-controller="EventsCtrl as vm">
        <input ng-model="vm.user.name"
            ng-blur="vm.blur()"
            ng-focus="vm.focus()"
            ng-change="vm.change()"/>
    </div>
</body>
```
```js
angular.module('EventsDemo', [])
    .controller('EventsCtrl', function() {
        this.blur = function() { console.log('blur'); };
        this.change = function() { console.log('change'); };
        this.focus = function() { console.log('focus'); };      
    });
``` 

* `ng-change` requires an `ng-model` to be set

-----

<!--

_id: 53f619da7cef8c81290003e3
master: content
createdAt: 2014-08-21T16:10:02.000Z
updatedAt: 2014-08-26T20:58:31.135Z


-->

# ng-css

```html
<body ng-app="DirectivesDemo">
    <div ng-controller="DirectivesCtrl as vm">
        <div ng-class="{ selected: vm.isSelected() }">ohhai</div>
    </div>
</body>
```
```js
angular.module('DirectivesDemo', [])
    .controller('DirectivesCtrl', function() {
        this.isSelected = function() {
            return true;
        };
    });
```
```css
.selected { outline: 1px solid red; }
```

* `ng-css` allows you to evaluate an expression and apply a css class if it's true

-----

<!--

_id: 53f61b947cef8c81290003e5
master: content
createdAt: 2014-08-21T16:17:24.000Z
updatedAt: 2014-08-26T20:58:31.135Z


-->

# ng-if

```html
<body ng-app="DirectivesDemo">
    <div ng-controller="DirectivesCtrl as vm">
        <div ng-if="vm.user.name === 'jonathan'">shows</div>
        <div ng-if="vm.user.name != 'jonathan'">no show</div>
    </div>
</body>
```
```js
angular.module('DirectivesDemo', [])
    .controller('DirectivesCtrl', function() {
        this.user = { name: 'jonathan' };
    });
```

* `ng-if` removes element from the DOM if false
* Creates a new scope

-----

<!--

_id: 53f61c697cef8c81290003e6
master: content
createdAt: 2014-08-21T16:20:57.000Z
updatedAt: 2014-08-26T20:58:31.135Z


-->

# ng-if

```html
<body ng-app>
    Click me: <input type="checkbox" ng-model="checked" ng-init="checked=true" /><br/>
    Show when checked:
    <span ng-if="checked" class="animate-if">
      I'm removed when the checkbox is unchecked.
    </span>
</body>
```

* `ng-init` creates `checked` on the root scope

-----

<!--

_id: 53f621aa7cef8c81290003ec
master: content
createdAt: 2014-08-21T16:43:22.000Z
updatedAt: 2014-08-26T20:58:31.135Z


-->

# ng-show

```html
<body ng-app>
    Click me: <input type="checkbox" ng-model="checked" ng-init="checked=true" /><br/>
    Show when checked:
    <span ng-show="checked">
      I'm removed when the checkbox is unchecked.
    </span>
</body>
```

* `ng-show` merely shows the element if the expression is true
* Doesn't remove it from the DOM like `ng-if`

-----

<!--

_id: 53f621ee7cef8c81290003ed
master: content
createdAt: 2014-08-21T16:44:30.000Z
updatedAt: 2014-08-26T20:58:31.136Z


-->

# ng-hide

```html
<body ng-app>
    Click me: <input type="checkbox" ng-model="checked" ng-init="checked=true" /><br/>
    Show when unchecked:
    <span ng-hide="checked">
      I'm removed when the checkbox is unchecked.
    </span>
</body>
```

* `ng-hide` merely hides the element if the expression is true

-----

<!--

_id: 53fbdf047cef8c812900047d
master: content
createdAt: 2014-08-26T01:12:36.000Z
updatedAt: 2014-08-26T20:58:31.136Z


-->

# ng-disabled/enabled

```html
<button ng-disabled="!vm.user.email">Send</button>
```
```html
<button ng-enabled="vm.user.email">Clear</button>
```

* Toggle the `disabled` attribute on an element

-----

<!--

_id: 53fb80c37cef8c8129000478
master: content
createdAt: 2014-08-25T18:30:27.000Z
updatedAt: 2014-08-26T20:58:31.136Z


-->

# ng-switch

```html
<div ng-controller="ExampleController">
  <select ng-model="selection" ng-options="item for item in items">
  </select>
  <tt>selection={{selection}}</tt>
  <hr/>
  <div class="animate-switch-container"
    ng-switch on="selection">
      <div class="animate-switch" ng-switch-when="settings">Settings Div</div>
      <div class="animate-switch" ng-switch-when="home">Home Span</div>
      <div class="animate-switch" ng-switch-default>default</div>
  </div>
</div>
```

* Works like a `switch` in JavaScript

-----

<!--

_id: 53f61d617cef8c81290003e7
master: content
createdAt: 2014-08-21T16:25:05.000Z
updatedAt: 2014-08-26T20:58:31.136Z


-->

# ng-checked

```html
<body ng-app>
    Click me: <input type="checkbox" ng-model="checked" ng-init="checked=true" /><br/>
    Toggles this: <input type="checkbox" ng-checked="checked" />
</body>
```

* Can set a checkbox to checked

-----

<!--

_id: 53f61db77cef8c81290003e8
master: content
createdAt: 2014-08-21T16:26:31.000Z
updatedAt: 2014-08-26T20:58:31.136Z


-->

# ng-bind


* While angular is downloading you might see a "page flash" revealing all the bindings
* Useful to stop the "page flash" when using {{}}
* Binds to a single property on the scope

Rather than..

```html
<h1>{{user.name}}</h1>
```

You can do...

```html
<h1 ng-bind="user.name"></h1>
```

-----

<!--

_id: 53f61e297cef8c81290003e9
master: content
createdAt: 2014-08-21T16:28:25.000Z
updatedAt: 2014-08-26T20:58:31.137Z


-->

# ng-bind-template

```html
<h1 ng-bind-template="Hello {{user.name}}"></h1>
```

```html
<title ng-bind-template="{{site.title}} {{page.title}}">
```

* If you need to do some interpolation, use `ng-bind-template`

-----

<!--

_id: 53f61e907cef8c81290003ea
master: content
createdAt: 2014-08-21T16:30:08.000Z
updatedAt: 2014-08-26T20:58:31.137Z


-->

# ng-bind-html

```html
<body ng-app="Demo">
    <div ng-controller="DemoCtrl as vm">
    <div ng-bind-html="vm.html"></div>
    </div>
</body>
```
```js
angular.module('Demo', [])
    .controller('DemoCtrl', function($sce) {
        this.html = $sce.trustAsHtml('<code>angular</code>')
    });
```

* If you need to render HTML `ng-bind-html`
* Use the `$sce` service to allow angular to use the HTML (Strict Contextual Escaping)
* There is also an `ngSanitize` module that you can import to avoid this

-----

<!--

_id: 53f620867cef8c81290003eb
master: content
createdAt: 2014-08-21T16:38:30.000Z
updatedAt: 2014-08-26T20:58:31.137Z


-->

# ng-cloack

* If you really like the {{}} and don't want to use `ng-bind` you can use `ng-cloack`
* After angular finishes loading, `ng-cloack` gets removed
* You control the `ng-cloack` css

```css
[ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak], .ng-cloak, .x-ng-cloak {
  display: none !important;
}
```
* Now you can hide un-rendered content until angular loads

```html
<body ng-cloack>
    {{user.name}}
</body>
```

-----

<!--

_id: 53f646317cef8c81290003ee
master: content
createdAt: 2014-08-21T19:19:13.000Z
updatedAt: 2014-08-26T20:58:31.137Z


-->

# ng-href and ng-src

```html
<a ng-href="/menu/{{item.id}}">Details</a>
```

```html
<img ng-src="/images/menu-{{item.id}}.jpg" />
```

* When building links or images, these 2 help prevent {{}} from entering your string

-----

<!--

_id: 53f6470e7cef8c81290003ef
master: content
createdAt: 2014-08-21T19:22:54.000Z
updatedAt: 2014-08-26T20:58:31.137Z


-->

# ng-repeat

* Used for rendering lists
* Has a special syntax
* Each iteration gets a scope prototypically inherited from the parent

-----

<!--

_id: 53f657587cef8c81290003f0
master: content
createdAt: 2014-08-21T20:32:24.000Z
updatedAt: 2014-08-26T20:58:31.137Z


-->

# ng-repeat

```html
<body ng-app="introToAngularApp">
    <ul ng-controller="MenuCtrl as vm">
        <li ng-repeat="item in vm.list">
            {{item}}
        </li>
    </ul>
</body>
```
```js
angular.module('introToAngularApp', [])
    .controller('MenuCtrl', function() {
        this.list = ['pizza', 'stromboli', 'lasagna'];
    });
```

* Syntax is `item` in `list`
* There are a few other tracking things in the syntax if you need them

-----

<!--

_id: 53f658957cef8c81290003f1
master: content
createdAt: 2014-08-21T20:37:41.000Z
updatedAt: 2014-08-26T20:58:31.138Z


-->

# ng-repeat properties

* `$index`  **number**  iterator offset of the repeated element (0..length-1)
* `$first`  **boolean** true if the repeated element is first in the iterator.
* `$middle` **boolean** true if the repeated element is between the first and last in the iterator.
* `$last`   **boolean** true if the repeated element is last in the iterator.
* `$even`   **boolean** true if the iterator position $index is even (otherwise false).
* `$odd`    **boolean** true if the iterator position $index is odd (otherwise false).

-----

<!--

_id: 53f658f37cef8c81290003f3
master: content
createdAt: 2014-08-21T20:39:15.000Z
updatedAt: 2014-08-26T20:58:31.138Z


-->

# ng-repeat

```html
<body ng-app="introToAngularApp">
    <ul ng-controller="MenuCtrl as vm">
        <li ng-repeat="item in vm.list">
            {{$index}}: {{item}}
        </li>
    </ul>
</body>
```
```js
angular.module('introToAngularApp', [])
    .controller('MenuCtrl', function() {
        this.list = ['pizza', 'stromboli', 'lasagna'];
    });
```

-----

<!--

_id: 53f65abd7cef8c81290003f8
master: content
createdAt: 2014-08-21T20:46:53.000Z
updatedAt: 2014-08-26T20:58:31.138Z


-->

# ng-include

```html
<div ng-include="'/some/page.html'"></div>
```

* Can include an HTML page in the same domain
* Partial name needs single quotes around it

-----

<!--

_id: 53f6593f7cef8c81290003f4
master: content
createdAt: 2014-08-21T20:40:31.000Z
updatedAt: 2014-08-26T20:58:31.138Z


-->

# a

* Automatically prevents default when there's no `href`

-----

<!--

_id: 53f659597cef8c81290003f5
master: content
createdAt: 2014-08-21T20:40:57.000Z
updatedAt: 2014-08-26T20:58:31.138Z


-->

# form

* Prevents default submission unless there's a `action` attribute defined
* Also has built in validation (more later)
* Can listen for the `ng-click` on the submit button, or `ng-submit` on the form

-----

<!--

_id: 53f659ab7cef8c81290003f6
master: content
createdAt: 2014-08-21T20:42:19.000Z
updatedAt: 2014-08-26T20:58:31.138Z


-->

# form

```html
<body ng-app="FormDemo">
    <form ng-controller="FormCtrl as vm" ng-submit="vm.send(vm.user.name)">
        <input type="text" ng-model="vm.user.name" />
        <input type="submit" value="Send" />
    </form>
</body>
```
```js
angular.module('FormDemo', [])
    .controller('FormCtrl', function() {
        this.send = function(name) {
            console.log('sending to: ' + name);
        };
    });
```

-----

<!--

_id: 53f664fa7cef8c81290003fb
master: content
createdAt: 2014-08-21T21:30:34.000Z
updatedAt: 2014-08-26T20:58:31.138Z


-->

# Select and ng-options

* Use the `ng-options` to render a list of `<option>` tags
* Has a similar syntax to `ng-repeat`
* You'll google for this every time you need to use it

-----

<!--

_id: 53f65b8f7cef8c81290003fa
master: content
createdAt: 2014-08-21T20:50:23.000Z
updatedAt: 2014-08-26T20:58:31.139Z


-->

# select

{{codeblock id:"53f665c37cef8c81290003fd"}}


* Array of nav items
* First of all, create a placeholder for the selected item
* Here's a `goTo` function that we'll use when the select changes

-----

<!--

_id: 53f6660f7cef8c81290003fe
master: content
createdAt: 2014-08-21T21:35:11.000Z
updatedAt: 2014-08-26T20:58:31.139Z


-->

# select

{{codeblock id:"53f665a07cef8c81290003fc"}}


* There's an `ng-options` here

-----

<!--

_id: 53f666267cef8c81290003ff
master: content
createdAt: 2014-08-21T21:35:34.000Z
updatedAt: 2014-08-26T20:58:31.139Z


-->

# select

{{codeblock id:"53f665a07cef8c81290003fc" highlight:"4"}}


* `items` is the loop
* `item.title` tells angular what to use for the option text

-----

<!--

_id: 53f666617cef8c8129000400
master: content
createdAt: 2014-08-21T21:36:33.000Z
updatedAt: 2014-08-26T20:58:31.139Z


-->

# select

{{codeblock id:"53f665a07cef8c81290003fc" highlight:6"}}


* The value will be the actual `item`, and will be placed on the scope as `selectedNavItem`

-----

<!--

_id: 53f666947cef8c8129000401
master: content
createdAt: 2014-08-21T21:37:24.000Z
updatedAt: 2014-08-26T20:58:31.139Z


-->

# select

{{codeblock id:"53f665a07cef8c81290003fc" highlight:5"}}


* Whenever the selected item changes, we'll be able to grab the `selectedNavItem.url` and pass it to the `goTo` function on the scope

-----

<!--

_id: 53f666bc7cef8c8129000402
master: content
createdAt: 2014-08-21T21:38:04.000Z
updatedAt: 2014-08-26T20:58:31.139Z


-->

# select

{{codeblock id:"53f665a07cef8c81290003fc"}}


* Check it out working...

-----

<!--

_id: 53fab8b77cef8c812900046c
master: content
createdAt: 2014-08-25T04:16:55.000Z
updatedAt: 2014-08-26T20:58:31.140Z


-->

# script

```html
<script type="text/ng-template" id="/mobileNav.html">
<select ng-model="activeItem" ng-change="goTo()" ng-options="item.title for item in items">
    <option value="">Jump to Page</option>
</select>
</script>
```

* Load the content of a `<script>` element into $templateCache
* Makes it usable by `ngInclude`, `ngView`, or directives

-----

<!--

_id: 53fa9f597cef8c812900046b
master: content-alt
createdAt: 2014-08-25T02:28:41.000Z
updatedAt: 2014-08-26T20:58:31.140Z


-->

# LAB

* http://plnkr.co/edit/JbJap5

 


-----

<!--

_id: 53f668607cef8c8129000403
master: vertical
createdAt: 2014-08-21T21:45:04.000Z
updatedAt: 2014-08-26T20:58:31.140Z


-->

# BREAK

{{ results }}

-----

<!--

_id: 53fbdef87cef8c812900047c
master: vertical
createdAt: 2014-08-26T01:12:24.000Z
updatedAt: 2014-08-26T20:58:31.140Z


-->

# Filters

-----

<!--

_id: 53f6b2ea7cef8c8129000405
master: content
createdAt: 2014-08-22T03:03:06.000Z
updatedAt: 2014-08-26T20:58:31.140Z


-->

# Filters

> "A filter formats the value of an expression for display to the user"

* Use the `|` in an expression to format data
* Many built in filters
* Easy to create custom filters

```html
{{ expression | filter }}
```

Chain them with multiple `|`'s

```html
{{ expression | filter1 | filter2 | ... }}
```

-----

<!--

_id: 53f6b3207cef8c8129000406
master: content
createdAt: 2014-08-22T03:04:00.000Z
updatedAt: 2014-08-26T20:58:31.140Z


-->

# Built in filters

* `currency`
* `date`
* `filter`
* `json`
* `limitTo`
* `lowercase`
* `number`
* `orderBy`
* `uppercase`

-----

<!--

_id: 53f6b3b57cef8c8129000407
master: content
createdAt: 2014-08-22T03:06:29.000Z
updatedAt: 2014-08-26T20:58:31.141Z


-->

# Currency

```html
<body ng-app>
    {{12345 | currency}}
</body>
```

* Format as a currency value
* Can accept a symbol as an optional argument

-----

<!--

_id: 53f6b41a7cef8c8129000408
master: content
createdAt: 2014-08-22T03:08:10.000Z
updatedAt: 2014-08-26T20:58:31.141Z


-->

# Date

```html
<body ng-app="DateDemo">
    <div ng-controller="DateCtrl">
        {{ date | date: 'medium' }}
    </div>
</body>
```
```js
angular.module('DateDemo', [])
    .controller('DateCtrl', function($scope) {
        $scope.date = new Date();
    });
```

* Format as a currency value
* Can accept a symbol as an optional argument
* Many different format types, "short", "fullDate", etc, and

-----

<!--

_id: 53f6b5497cef8c8129000409
master: content
createdAt: 2014-08-22T03:13:13.000Z
updatedAt: 2014-08-26T20:58:31.141Z


-->

# Filter

```html
<body ng-app="FilterDemo">
    <div ng-controller="FilterCtrl as vm">
        <input type="text" ng-model="vm.query" />
        <ul>
            <li ng-repeat="item in vm.list | filter: vm.query">
                {{item.name}}
            </li>
        </ul>
    </div>
</body>
```
```js
angular.module('FilterDemo', [])
    .controller('FilterCtrl', function() {
        this.list = [{ name: 'spaghetti' }, { name: 'lasagna' }, { name: 'canoli' }]
    });
```

* Yes, the filter... filter

-----

<!--

_id: 53f6b72a7cef8c812900040a
master: content
createdAt: 2014-08-22T03:21:14.000Z
updatedAt: 2014-08-26T20:58:31.141Z


-->

# Filter

* Searches all key's on an array of objects for a match
* You can also change the query to filter specific keys


-----

<!--

_id: 53f6b76c7cef8c812900040b
master: content
createdAt: 2014-08-22T03:22:20.000Z
updatedAt: 2014-08-26T20:58:31.141Z


-->

# Filter

```html
<body ng-app="FilterDemo">
    <div ng-controller="FilterCtrl as vm">
        <input type="text" ng-model="vm.query.name" />
        <ul>
            <li ng-repeat="item in vm.list | filter: vm.query">
                {{item.name}}
            </li>
        </ul>
    </div>
</body>
```
```js
angular.module('FilterDemo', [])
    .controller('FilterCtrl', function() {
        this.list = [{ name: 'spaghetti' }, { name: 'lasagna' }, { name: 'canoli' }]
    });
```

-----

<!--

_id: 53f6bc3f7cef8c8129000415
master: content
createdAt: 2014-08-22T03:42:55.000Z
updatedAt: 2014-08-26T20:58:31.142Z


-->

# JSON

```html
<body ng-app>
    <pre>{{ { foo: 'bar' } | json }}</pre>
</body>
```


* Useful for debugging
* Formats an object as JSON

-----

<!--

_id: 53f6bcd37cef8c8129000416
master: content
createdAt: 2014-08-22T03:45:23.000Z
updatedAt: 2014-08-26T20:58:31.142Z


-->

# limitTo

```html
<body ng-app ng-init="list = [1,2,3,4,5,6]">
    {{ list | limitTo: 3 }}
    {{ list | limitTo: -3 }}    
</body>
```


* Useful for debugging
* Formats an object as JSON
* Positive number is limit from beginning
* Negative number is limit fromend

-----

<!--

_id: 53f6bd677cef8c8129000417
master: content
createdAt: 2014-08-22T03:47:51.000Z
updatedAt: 2014-08-26T20:58:31.142Z


-->

# lowercase and uppercase

```html
<body ng-app>
    {{ 'MAY THE FORCE be with you' | lowercase }}
    {{ 'may the force BE WITH YOU' | uppercase }}
</body>
```


* case a string

-----

<!--

_id: 53f6bdc67cef8c8129000418
master: content
createdAt: 2014-08-22T03:49:26.000Z
updatedAt: 2014-08-26T20:58:31.142Z


-->

# Number

```html
<body ng-app="NumberDemo">
    <div ng-controller="NumberCtrl as vm">
        {{vm.val | number}} <br />
        {{vm.val | number: 0 }} <br />
        {{vm.val | number: 2 }} <br />
    </div>
</body>
```
```js
angular.module('NumberDemo', [])
    .controller('NumberCtrl', function() {
        this.val = "1234.56789";
    });
```


* Format value as a number, with optional decimal limit

-----

<!--

_id: 53f6bee57cef8c8129000419
master: content
createdAt: 2014-08-22T03:54:13.000Z
updatedAt: 2014-08-26T20:58:31.142Z


-->

# OrderBy

```html
<body ng-app="NumberDemo">
    <div ng-controller="NumberCtrl as vm">
        {{vm.list | orderBy: 'age'}}
    </div>
</body>
```
```js
angular.module('NumberDemo', [])
    .controller('NumberCtrl', function() {
        this.list = [{ age: 50 }, { age: 26 }, { age: 48 }, { age: 24 }];
    });
```


* Order a list
* Pass in a string to match a key

-----

<!--

_id: 53f6c01a7cef8c812900041a
master: content
createdAt: 2014-08-22T03:59:22.000Z
updatedAt: 2014-08-26T20:58:31.142Z


-->

# OrderBy

```html
<body ng-app="NumberDemo">
    <div ng-controller="NumberCtrl as vm">
        {{vm.list | orderBy: '-age'}}
    </div>
</body>
```
```js
angular.module('NumberDemo', [])
    .controller('NumberCtrl', function() {
        this.list = [{ age: 50 }, { age: 26 }, { age: 48 }, { age: 24 }];
    });
```

* Switch to descending with a "-"

-----

<!--

_id: 53f6c06d7cef8c812900041b
master: content
createdAt: 2014-08-22T04:00:45.000Z
updatedAt: 2014-08-26T20:58:31.143Z


-->

# OrderBy

* Can also use an array to sort by multiple keys
* Can pass in a function to customize how it gets ordered if needed
* The result of this function will be sorted using the <, =, > operator.

-----

<!--

_id: 53f6c0b47cef8c812900041c
master: content
createdAt: 2014-08-22T04:01:56.000Z
updatedAt: 2014-08-26T20:58:31.143Z


-->

# Custom filter

```js
angular.module('introToAngularApp', [])
    .filter('phone', function() {
        return function(input, options) {
            var area = input.substr(0, 3),
                middle = input.substr(2, 3),
                end = input.substr(6, 4);
            
            return [area, middle, end].join("-"); 
        };
    });
```
```html
<body ng-app="introToAngularApp">
    {{ '6155551234' | phone }}
</body>
```

* Add a filter to your module with `.filter()`

-----

<!--

_id: 53f73fb57cef8c812900041e
master: vertical
createdAt: 2014-08-22T13:03:49.000Z
updatedAt: 2014-08-26T20:58:31.143Z


-->

# Custom Directives

-----

<!--

_id: 53f73fce7cef8c812900041f
master: content
createdAt: 2014-08-22T13:04:14.000Z
updatedAt: 2014-08-26T20:58:31.143Z


-->

# Custom Directives

* Easily create your own custom directives
* Can be your own DSL for your application
* Best practice to prefix your directives with a few letters to distinguish
* Only recommended place in angular app to do DOM manipulation and transformation

-----

<!--

_id: 53f741887cef8c8129000420
master: content
createdAt: 2014-08-22T13:11:36.000Z
updatedAt: 2014-08-26T20:58:31.143Z


-->

# Custom Directives

```html
<body ng-app="introToAngularApp">
    <input type="text" ng-model="date" a2-date-picker placeholder="Date"/>
    Your Date: {{date}}
</body>
```
```js
angular.module('introToAngularApp', [])
    .directive('a2DatePicker', function() {
        return {
            restrict: 'A',
            link: function(scope, $el, attrs) {
                $el.datepicker({
                    onSelect: function(date) {
                        scope.date = date;
                        scope.$apply();
                    }
                });
            }
        };
    });
```

-----

<!--

_id: 53f746467cef8c8129000422
master: content
createdAt: 2014-08-22T13:31:50.000Z
updatedAt: 2014-08-26T20:58:31.144Z


-->

# Creating a directive

```js
angular.module('introToAngularApp', [])
    .directive('a2DatePicker', function() {
        return {
            // Directive options
        };
    });
```

* Can use a directive object to configure
* This is the preferred way, but there is another
* Directive name is camelCase, use in HTML is lower dash case
* `a2DatePicker` = `a2-date-picker`
* Always watch for that, because it's super easy to forget

-----

<!--

_id: 53f747577cef8c8129000423
master: content
createdAt: 2014-08-22T13:36:23.000Z
updatedAt: 2014-08-26T20:58:31.144Z


-->

# Creating a directive

```js
angular.module('introToAngularApp', [])
    .directive('a2DatePicker', function() {
        return function(scope, element, attrs) {
            // set it up
        };
    });
```

* Can also only return the `link` function
* This is the same as if you only returned an object with `{ link: function() {} }`

-----

<!--

_id: 53f74ffa7cef8c812900042b
master: content
createdAt: 2014-08-22T14:13:14.000Z
updatedAt: 2014-08-26T20:58:31.144Z


-->

# link

```js
angular.module('introToAngularApp', [])
    .directive('a2DatePicker', function() {
        return {
            link: function(scope, element, attrs) {
                // Add behavior to element
            }
        };
    });
```

* Executed after the template has been cloned from the DOM and all child elements have been linked to a scope
* Register DOM events, and update the DOM in this step
* `scope` is the scope on this element or it's parent, `element` is the jQLite or jQuery wrapped element
* `attrs` contains an object of all the attributes on the element

-----

<!--

_id: 53fb81f47cef8c8129000479
master: content
createdAt: 2014-08-25T18:35:32.000Z
updatedAt: 2014-08-26T20:58:31.144Z


-->

# Be a good event citizen

```js
function myClick() {}

element.on('click', myClick);

scope.$on('$destroy',function(){
    element.off('click', myClick);
});
```

* If you create an event handler, be sure to remove the handler when the scope is destroyed
* You can create memory leaks if you do not remove events

-----

<!--

_id: 53f750de7cef8c812900042c
master: content
createdAt: 2014-08-22T14:17:02.000Z
updatedAt: 2014-08-26T20:58:31.144Z


-->

# link

```js
angular.module('introToAngularApp', [])
    .directive('a2DatePicker', function() {
        return {
            link: {
                pre: function(scope, element, attrs) {
                    // Not linked, so don't transform the DOM
                },
                post: function(scope, element, attrs) {
                    // Linked, add your behaviors
                }
            }
        };
    });
```

* Can also pass an object with `pre` and `post`
* Just a function means you're doing `post`

-----

<!--

_id: 53f751657cef8c812900042d
master: content
createdAt: 2014-08-22T14:19:17.000Z
updatedAt: 2014-08-26T20:58:31.145Z


-->

# compile

```js
angular.module('introToAngularApp', [])
    .directive('a2DatePicker', function() {
        return {
            compile: {
                pre: function(scope, element, attrs) {
                    
                },
                post: function(scope, element, attrs) {
                    
                }
            }
        };
    });
```

* Allows you to transform the DOM before linking
* Not used often, but good to know

-----

<!--

_id: 53f747f27cef8c8129000425
master: content
createdAt: 2014-08-22T13:38:58.000Z
updatedAt: 2014-08-26T20:58:31.145Z


-->

# priority

```js
angular.module('introToAngularApp', [])
    .directive('a2DatePicker', function() {
        return {
            priority: 100
        };
    });
```

* Default priority is 0

* You can have multiple directives on an element
* Priority sorts which one runs first
* They are all added, and then sorted by priority

-----

<!--

_id: 53f7491e7cef8c8129000428
master: content
createdAt: 2014-08-22T13:43:58.000Z
updatedAt: 2014-08-26T20:58:31.145Z


-->

# Restrict

```js
angular.module('introToAngularApp', [])
    .directive('a2DatePicker', function() {
        return {
            restrict: 'AE'
        };
    });
```

* Tells angular where the directive can be used
* A: Attribute, E: Element, C: Comment


-----

<!--

_id: 53f748c27cef8c8129000426
master: content
createdAt: 2014-08-22T13:42:26.000Z
updatedAt: 2014-08-26T20:58:31.145Z


-->

# Template

```js
angular.module('Demo', [])
    .directive('a2H1', function() {
        return {
            restrict: 'AE',
            template: '<h1>hello world</h1>'
        };
    });
```
```html
<body ng-app="Demo">
    <a2-h1></a2-h1>
</body>
```

* Can include an HTML template

-----

<!--

_id: 53f74ccd7cef8c8129000429
master: content
createdAt: 2014-08-22T13:59:41.000Z
updatedAt: 2014-08-26T20:58:31.145Z


-->

# transclude

```js
angular.module('Demo', [])
    .directive('a2H1', function() {
        return {
            restrict: 'AE',
            transclude: true,
            template: '<h1>hello <span ng-transclude></span></h1>'
        };
    });
```
```html
<body ng-app="Demo">
    <a2-h1>jonathan</a2-h1>
</body>
```

* Fancy word that means include what was in the original template
* Allows you to wrap existing content 

-----

<!--

_id: 53f749047cef8c8129000427
master: content
createdAt: 2014-08-22T13:43:32.000Z
updatedAt: 2014-08-26T20:58:31.145Z


-->

# transclude

```js
angular.module('Demo', [])
    .directive('a2Header', function() {
        return {
            restrict: 'AE',
            transclude: true,
            template: '<header ng-transclude></header>'
        };
    });
```
```html
<body ng-app="Demo">
    <a2-header>
        <a href="#/home">Home</a>
    </a2-header>
</body>
```

-----

<!--

_id: 53f74d4a7cef8c812900042a
master: content
createdAt: 2014-08-22T14:01:46.000Z
updatedAt: 2014-08-26T20:58:31.146Z


-->

# scope

```js
angular.module('Demo', [])
    .directive('a2Header', function() {
        return {
            restrict: 'AE',
            scope: false // default
        };
    });
```
```html
<body ng-app="Demo">
    <a2-header></a2-header>
</body>
```

* Allows you to control how the scope of the directive gets cteated
* `scope: false` means you're acting directly on the parent scope of the directive
* In this case you'd be working directly on the root scope

-----

<!--

_id: 53f7564d7cef8c812900042e
master: content
createdAt: 2014-08-22T14:40:13.000Z
updatedAt: 2014-08-26T20:58:31.146Z


-->

# scope

```js
angular.module('Demo', [])
    .directive('a2Header', function() {
        return {
            restrict: 'AE',
            scope: true // default
        };
    });
```
```html
<body ng-app="Demo">
    <a2-header></a2-header>
</body>
```

* `scope: true` gets a new child scope inherited from its parent
* Basically the same as if it were a controller

-----

<!--

_id: 53f7606e7cef8c8129000431
master: content
createdAt: 2014-08-22T15:23:26.000Z
updatedAt: 2014-08-26T20:58:31.146Z


-->

# scope

```js
angular.module('Demo', [])
    .controller('DemoCtrl', function($scope) {
        $scope.user = { name: 'Han' };
    })
    .directive('a2Header', function() {
        return {
            restrict: 'E',
            scope: true,
            link: function(scope, element, attrs) {
                console.log(scope.user.name); // "han"
            }
        };
    });
```

* Can change the parent's properties
* Can add it's own scope properties

-----

<!--

_id: 53f7568e7cef8c812900042f
master: content
createdAt: 2014-08-22T14:41:18.000Z
updatedAt: 2014-08-26T20:58:31.146Z


-->

# scope

```js
angular.module('Demo', [])
    .controller('DemoCtrl', function($scope) {
        $scope.user = { name: 'Han' };
    })
    .directive('a2Header', function() {
        return {
            restrict: 'E',
            scope: {
            
            },
            link: function(scope, element, attrs) {
                console.log(scope.user.name); // undefined
            }
        };
    });
```

* Scope with an object creates an "isolate" scope

-----

<!--

_id: 53f760c47cef8c8129000432
master: content
createdAt: 2014-08-22T15:24:52.000Z
updatedAt: 2014-08-26T20:58:31.146Z


-->

# scope

```js
angular.module('Demo', [])
    .controller('DemoCtrl', function($scope) {
        $scope.user = { name: 'Han' };
    })
    .directive('a2Header', function() {
        return {
            restrict: 'E',
            scope: {
                user: '='
            },
            link: function(scope, element, attrs) {
                console.log(scope.user.name); // "han"
            }
        };
    });
```

* Pass in items you want to grab off of the parent scope through attributes

-----

<!--

_id: 53f7613d7cef8c8129000433
master: content
createdAt: 2014-08-22T15:26:53.000Z
updatedAt: 2014-08-26T20:58:31.146Z


-->

# scope

```html
<body ng-app="Demo">
    <div ng-controller="DemoCtrl">
        <a2-header user="user"></a2-header>
    </div>
</body>
```
{{codeblock id:"53f761d17cef8c8129000435" visible:"5-15" highlight:"9"}}


-----

<!--

_id: 53f762bc7cef8c8129000437
master: content
createdAt: 2014-08-22T15:33:16.000Z
updatedAt: 2014-08-26T20:58:31.147Z


-->

# scope

* 3 ways to pass variables to an isolate scope
* `=` pass in a property off of the scope
* `@` string or interpolated value
* `&` an expression

-----

<!--

_id: 53f7634a7cef8c8129000438
master: content
createdAt: 2014-08-22T15:35:38.000Z
updatedAt: 2014-08-26T20:58:31.147Z


-->

# key: '='

```js
scope: {
    user: '=' // or '=attr' if you want to change how it's used on the element
}
```

```html
<a2-header user="user"></a2-header>
```

* Basically 2 way binding
* Maps to a property on the scope of the directive's parent 

-----

<!--

_id: 53f763d87cef8c8129000439
master: content
createdAt: 2014-08-22T15:38:00.000Z
updatedAt: 2014-08-26T20:58:31.147Z


-->

# key: '='

```js
scope: {
    user: '=myUser'
}
```

```html
<body ng-app="Demo">
    <div ng-controller="DemoCtrl">
        <a2-header my-user="user"></a2-header>
    </div>
</body>
```

* `=attr` if you want to change how it's used on the element 

-----

<!--

_id: 53f765a27cef8c812900043d
master: content
createdAt: 2014-08-22T15:45:38.000Z
updatedAt: 2014-08-26T20:58:31.147Z


-->

# key: '@'

```js
scope: {
    user: '=',
    age: '@'
}
```

```html
<body ng-app="Demo">
    <div ng-controller="DemoCtrl">
        <a2-header user="user" age="72"></a2-header>
    </div>
</body>
```

* Directly pass a string to the scope

-----

<!--

_id: 53f764f07cef8c812900043b
master: content
createdAt: 2014-08-22T15:42:40.000Z
updatedAt: 2014-08-26T20:58:31.147Z


-->

# key: '@'

```js
scope: {
    user: '=',
    age: '@'
}
```

```html
<body ng-app="Demo">
    <div ng-controller="DemoCtrl">
        <a2-header user="user" age="{{user.name}} is 72"></a2-header>
    </div>
</body>
```

* Or interpolate a value

-----

<!--

_id: 53f765e47cef8c812900043e
master: content
createdAt: 2014-08-22T15:46:44.000Z
updatedAt: 2014-08-26T20:58:31.147Z


-->

# key: '&'

```js
scope: {
    order: '&' 
}
```

```js
angular.module('introToAngularApp', [])
    .controller('OrderCtrl', function() {
        this.order = function(item) { 
            console.log("order: " + item ); 
        };
    });
```

* Evaluate expression in the parent's context 

-----

<!--

_id: 53f766697cef8c812900043f
master: content
createdAt: 2014-08-22T15:48:57.000Z
updatedAt: 2014-08-26T20:58:31.148Z


-->

# key: '&'

```js
angular.module('introToAngularApp', [])
    .controller('OrderCtrl', function() {
        this.items = ['pizza', 'spaghetti', 'calzone']
        this.order = function(item) { console.log("order: " + item ); }
    });
```
```html
<body ng-app="introToAngularApp">
    <div ng-controller="OrderCtrl as vm">
        <ul>
            <li ng-repeat="bar in vm.items">
                <a2-order process="vm.order(foo)" item="bar"></a2-order>
            </li>
        </ul>
    </div>
</body>
```

-----

<!--

_id: 53f766df7cef8c8129000440
master: content
createdAt: 2014-08-22T15:50:55.000Z
updatedAt: 2014-08-26T20:58:31.148Z


-->

# key: '&'

* See all the pieces running together here

{{codeblock id:"53f7683a7cef8c8129000443"}}


-----

<!--

_id: 53f768f17cef8c8129000444
master: content
createdAt: 2014-08-22T15:59:45.000Z
updatedAt: 2014-08-26T20:58:31.148Z


-->

# key: '&'

{{codeblock id:"53f7683a7cef8c8129000443" highlight:"6"}}


-----

<!--

_id: 53f768ff7cef8c8129000445
master: content
createdAt: 2014-08-22T15:59:59.000Z
updatedAt: 2014-08-26T20:58:31.148Z


-->

# key: '&'

{{codeblock id:"53f7683a7cef8c8129000443" visible:"5-9" highlight:"6-7,9"}}

{{codeblock id:"53f768057cef8c8129000441" visible:"1-5" highlight:"4"}}


* You have to match the arguments up with an object literal
* The `key` is the argument name, the `value` is the agument to pass  to the function
* In this case the `item` exists on the directive's scope passed in from the parent

-----

<!--

_id: 53f76b387cef8c8129000447
master: content
createdAt: 2014-08-22T16:09:28.000Z
updatedAt: 2014-08-26T20:58:31.148Z


-->

# controller

```js
angular.module('DirectiveCommunication', [])
    .directive('myFirst', function() {
        return {
            controller: function() {
                this.name = "myFirst controller";
            }
        };
    });
```

* Directives can communicate with each other when they define a controller

-----

<!--

_id: 53f76a647cef8c8129000446
master: content
createdAt: 2014-08-22T16:05:56.000Z
updatedAt: 2014-08-26T20:58:31.149Z


-->

# require

{{codeblock id:"53f76c2f7cef8c8129000448"}}

* Require pulls the controller into the `ctrls` arugment

-----

<!--

_id: 53f76c5a7cef8c8129000449
master: content
createdAt: 2014-08-22T16:14:18.000Z
updatedAt: 2014-08-26T20:58:31.149Z


-->

# require

```html
<body ng-app="DirectiveCommunication">
    <my-second my-first></my-second>
</body>
```

* `myFirst` is a sibling directive since it's on the same element as `my-second`

-----

<!--

_id: 53f76e7e7cef8c812900044c
master: content
createdAt: 2014-08-22T16:23:26.000Z
updatedAt: 2014-08-26T20:58:31.149Z


-->

# require

{{codeblock id:"53f76e057cef8c812900044b" visible:"12" highlight:"12"}}


```html
<body ng-app="DirectiveCommunication">
    <my-second></my-second>
</body>
```

* If you try to require a directive not present on the element you'll get an error 
* Unless you use the `?` when you require the directive

-----

<!--

_id: 53f76da67cef8c812900044a
master: content
createdAt: 2014-08-22T16:19:50.000Z
updatedAt: 2014-08-26T20:58:31.149Z


-->

# require

{{codeblock id:"53f76eb57cef8c812900044d" visible:"12" highlight:"12"}}


```html
<body ng-app="DirectiveCommunication">
    <div my-first>
        <my-second></my-second>
    </div>
</body>
```

* You can also require a directive from the parent with `^`

-----

<!--

_id: 53f2130c7cef8c8129000308
master: content-alt
createdAt: 2014-08-18T14:51:56.000Z
updatedAt: 2014-08-26T20:58:31.149Z


-->

# Lab

* http://plnkr.co/edit/N0Rku1

-----

<!--

_id: 53f7b8ac7cef8c8129000466
master: vertical
createdAt: 2014-08-22T21:39:56.000Z
updatedAt: 2014-08-26T20:58:31.149Z


-->

# BREAK

{{ results }}

-----

<!--

_id: 53f76fa17cef8c812900044e
master: vertical
createdAt: 2014-08-22T16:28:17.000Z
updatedAt: 2014-08-26T20:58:31.150Z


-->

# services

-----

<!--

_id: 53f2138c7cef8c812900030c
master: content
createdAt: 2014-08-18T14:54:04.000Z
updatedAt: 2014-08-26T20:58:31.150Z


-->

# Models in angular

* Models in angular are just objects on the scope
* That's IT! Plain old JS objects
* Since angular is MVC, you need something that gives the controller a way to get data from the server and add it to the scope as a "model"
* That's where services come into play

-----

<!--

_id: 53f213a47cef8c812900030d
master: content
createdAt: 2014-08-18T14:54:28.000Z
updatedAt: 2014-08-26T20:58:31.150Z


-->

# What are services?

* You can use services to organize and share code across your app.
* They are singletons and are lazily created when they're needed
* There are a few different ways to create a "service" in angular
* Many built in services, including a few we've already seen

-----

<!--

_id: 53f785ee7cef8c8129000451
master: vertical
createdAt: 2014-08-22T18:03:26.000Z
updatedAt: 2014-08-26T20:58:31.150Z


-->

# Built in services

-----

<!--

_id: 53f786107cef8c8129000452
master: content
createdAt: 2014-08-22T18:04:00.000Z
updatedAt: 2014-08-26T20:58:31.150Z


-->

# Built in services

* Lots of built in services to help build applications
* We'll cover a few of them
* `$anchorScroll`, `$animate`, `$cacheFactory`, `$compile`, `$controller`, `$document`, `$exceptionHandler`, `$filter`, `$http`, `$httpBackend`, `$interpolate`, `$interval`, `$locale`, `$location`, `$log`, `$parse`, `$q`, `$rootElement`, `$rootScope`, `$sce`, `$sceDelegate`, `$templateCache`, `$timeout`, `$window`

-----

<!--

_id: 53f786d57cef8c8129000453
master: content
createdAt: 2014-08-22T18:07:17.000Z
updatedAt: 2014-08-26T20:58:31.150Z


-->

# Built in services

* Lots of built in services to help build applications
* Already seen `$rootScope`, and `$location`
* We'll cover a few more of them
* `$anchorScroll`, `$animate`, `$cacheFactory`, `$compile`, `$controller`, `$document`, `$exceptionHandler`, `$filter`, `$http`, `$httpBackend`, `$interpolate`, `$interval`, `$locale`, `$location`, `$log`, `$parse`, `$q`, `$rootElement`, `$rootScope`, `$sce`, `$sceDelegate`, `$templateCache`, `$timeout`, `$window`

-----

<!--

_id: 53f791957cef8c8129000456
master: content
createdAt: 2014-08-22T18:53:09.000Z
updatedAt: 2014-08-26T20:58:31.151Z


-->

# $q

* A JavaScript promise implementation
* Promises make working with async code easier
* You execute a piece of async code and get a promise back that allows you to chain  async calls together

-----

<!--

_id: 53f791fb7cef8c8129000457
master: content
createdAt: 2014-08-22T18:54:51.000Z
updatedAt: 2014-08-26T20:58:31.151Z


-->

# $q

```js
function doAsyncThing() {
    var dfd = $q.defer();
    
    setTimeout(function() {
        dfd.resolve([1,2,3]);
    }, 0);
    
    return dfd.promise;
}

doAsyncThing().then(function(arr) {
    console.log(arr); // [1,2,3]
});
```


* `then` allows you to grab the resolved promises' data

-----

<!--

_id: 53f79d507cef8c812900045e
master: content
createdAt: 2014-08-22T19:43:12.000Z
updatedAt: 2014-08-26T20:58:31.151Z


-->

# $timeout and $interval

```js
setTimeout(function() {
    $scope.user.name = "test"; // Won't work
}, 500);
```

```js
setTimeout(function() {
    $scope.user.name = "test";
    $scope.$apply(); // Have to manually call it
}, 500);
```

* As mentioned previously if you try to do anything outside of the context of angular, you'll have issues and potentially have to call `$scope.$apply()`
* `setTimeout` and `setInterval` would cause issues
* Angular has `$timeout`, and `$interval`, that keep things in the angular life cycle

-----

<!--

_id: 53f213c67cef8c8129000313
master: content
createdAt: 2014-08-18T14:55:02.000Z
updatedAt: 2014-08-26T20:58:31.151Z


-->

# $http

* Retrieves data via ajax
* Works with all HTTP methods

```js
$http({ 
    url: '/api/items',
    type: 'GET'
});
```
OR with http methods (`get`, `post`, `delete`, `put`, `patch`) and `jsonp`

```js
$http.get('/api/items'); 
$http.post('/api/items', data); 
```

-----

<!--

_id: 53f790887cef8c8129000455
master: content
createdAt: 2014-08-22T18:48:40.000Z
updatedAt: 2014-08-26T20:58:31.151Z


-->

# $http

* All the methods return a `promise` that has extra `success` and `error` methods

```js
$http({ 
    url: '/api/items',
    type: 'GET'
}).success(function(items) {
    // do something with items
}).error(function(err) {
    // uh oh error
});
```

-----

<!--

_id: 53f792f17cef8c8129000458
master: content
createdAt: 2014-08-22T18:58:57.000Z
updatedAt: 2014-08-26T20:58:31.152Z


-->

# $http

* Can use `params` to add to the query string

```js
$http({ 
    url: '/api/items',
    type: 'GET',
    params: {
        query: 'params'
    }
});
```

-----

<!--

_id: 53f7931b7cef8c8129000459
master: content
createdAt: 2014-08-22T18:59:39.000Z
updatedAt: 2014-08-26T20:58:31.152Z


-->

# $http

* Can use `data` to add to data the request

```js
$http({ 
    url: '/api/items',
    type: 'POST',
    data: {
        foo: 'bar'
    }
});
```

-----

<!--

_id: 53f784377cef8c8129000450
master: content
createdAt: 2014-08-22T17:56:07.000Z
updatedAt: 2014-08-26T20:58:31.152Z


-->

# Factory

* The `factory` API allows you to create a service by returning an object API
* The function you pass in will be the constructor for the service and will run once

```js
angular.module('introToAngularApp', [])
    .factory('Menu', function($http) {
        return {
            list: function() {
                return $http({ 
                    url: '/api/items',
                    type: 'GET'
                });
            }
        };
    });
```

-----

<!--

_id: 53f783b17cef8c812900044f
master: content
createdAt: 2014-08-22T17:53:53.000Z
updatedAt: 2014-08-26T20:58:31.152Z


-->

# Factory

* Let your logic live in services that the controllers use with DI
* Makes things cleaner, and more testable
* As stated before, controllers are thin, logic-less as possible, and state-less as possible

```js
angular.module('introToAngularApp', [])
    .controller('MenuCtrl', function(Menu, $scope) {
        Menu.list().success(function(list) {
            $scope.list = list; 
        }); 
    });
```

-----

<!--

_id: 53f213a77cef8c812900030e
master: content
createdAt: 2014-08-18T14:54:31.000Z
updatedAt: 2014-08-26T20:58:31.152Z


-->

# provider

* Whatever you return from the `$get` in the provider will be returned when you DI it
* Only thing you can configure with `.config()`
```js
angular.module('introToAngularApp')
    .provider('Navigation', function() {
        var items = []

        this.setNavigation = function(navItems) {
            items = navItems;
        };

        this.$get = function() {
            return {
                list: items
            };
        };
    });
```

-----

<!--

_id: 53f799147cef8c812900045a
master: content
createdAt: 2014-08-22T19:25:08.000Z
updatedAt: 2014-08-26T20:58:31.152Z


-->

# provider

* Now whenever you set up your app, you can call `.config` and configure it
* When configuring, the `Provider` suffix is added automatically

```js
angular.module('introToAngularApp', [])
    .config(function(NavigationProvider) {
        NavigationProvider.setNavigation([{
            url: '/',
            title: 'Home'
        }])
    });
```

-----

<!--

_id: 53f799cd7cef8c812900045b
master: content
createdAt: 2014-08-22T19:28:13.000Z
updatedAt: 2014-08-26T20:58:31.153Z


-->

# provider

* Then in a controller, whatever you provided as the `$get` in the provider will be returned

```js
angular.module('introToAngularApp', [])
    .controller('NavCtrl', function(Navigation) {
        this.list = Navigation.list;
    });
```

-----

<!--

_id: 53f79bd07cef8c812900045d
master: content
createdAt: 2014-08-22T19:36:48.000Z
updatedAt: 2014-08-26T20:58:31.153Z


-->

# Value

* A simple service for returning any value

```js
angular.model('introToAngularApp.services')
    .value('apiToken', '123456789');
    
```

-----

<!--

_id: 53f213b77cef8c8129000311
master: content
createdAt: 2014-08-18T14:54:47.000Z
updatedAt: 2014-08-26T20:58:31.153Z


-->

# Service

* Similar to factory, but you don't actually return anything
* You set up functions and properties on the `this` of the service

```js
angular.module('introToAngularApp.services`)
    .service('Oauth', function(apiToken) {
        this.apiToken = apiToken;
        
        this.getRequestToken = function() {
            // use apiToken value
        };
    });

```

* Basically returns a `new` of whatever function you pass in
* Still a singleton like all other services

-----

<!--

_id: 53f79bc47cef8c812900045c
master: content
createdAt: 2014-08-22T19:36:36.000Z
updatedAt: 2014-08-26T20:58:31.153Z


-->

# Service

* Similar to factory, but you don't actually return anything
* You set up functions and properties on the `this` of the service

```js
angular.module('introToAngularApp.services`)
    .service('Oauth', function(apiToken) {
        this.getRequestToken = function() {
            // use apiToken
        };
    });

```

-----

<!--

_id: 53f213be7cef8c8129000312
master: content
createdAt: 2014-08-18T14:54:54.000Z
updatedAt: 2014-08-26T20:58:31.153Z


-->

# constant

```js
angular.model('introToAngularApp.services')
    .const('apiToken', '123456789')
    .config(function(apiToken, oauthProvider) {
        oauthProvider.setToken(apiToken);
    });
```

* You can have access to a constant in the config step of the application like you can with a `provider`

-----

<!--

_id: 53fbfcad7cef8c8129000482
master: vertical
createdAt: 2014-08-26T03:19:09.000Z
updatedAt: 2014-08-26T20:58:31.153Z


-->

# $resource

-----

<!--

_id: 53f213d37cef8c8129000314
master: content
createdAt: 2014-08-18T14:55:15.000Z
updatedAt: 2014-08-26T20:58:31.154Z


-->

# `$resource`

* REST APIs are very common these days
* REST = Representational State Transfer
* `GET`, `POST`, `PUT`, `DELETE`, etc
* GET `api/user`
* GET `api/user/:id`
* POST `api/user/:id`
* PUT `api/user/:id`
* DELETE `api/user/:id`

-----

<!--

_id: 53f79e617cef8c812900045f
master: content
createdAt: 2014-08-22T19:47:45.000Z
updatedAt: 2014-08-26T20:58:31.154Z


-->

# `$resource`

```js
angular.module('introToAngularApp.services', ['ngResource'])
    .factory('Reservations', function($resource) {
        return $resource('/api/reservations/:id', {
            id: '@id'
        },
        {
           'update': { method:'PUT' }
        });
    })
```

* `ngResource` is a first party plugin to easily consume a RESTFull API
* The `:id` in the url gets set by the object you pass in as the second argument
* Can use that object to create default parameters or use the `@` to set it with a property on the incoming data

-----

<!--

_id: 53f7a03c7cef8c8129000461
master: content
createdAt: 2014-08-22T19:55:40.000Z
updatedAt: 2014-08-26T20:58:31.154Z


-->

# `$resource`

```js
  { 'get':    {method:'GET'},
    'save':   {method:'POST'},
    'query':  {method:'GET', isArray:true},
    'remove': {method:'DELETE'},
    'delete': {method:'DELETE'} };
```

* `$resource` returns an object with the following API by default
* Easy to add other methods

-----

<!--

_id: 53f79fc07cef8c8129000460
master: content
createdAt: 2014-08-22T19:53:36.000Z
updatedAt: 2014-08-26T20:58:31.154Z


-->

# `$resource`

{{codeblock id:"53f7a0b87cef8c8129000462" visible:"1-3,6,9,12,49,51,61,63,71,79-80"}}

* `Reservations.query()` will `GET` `/api/reservations`
* Notice how there's no `success` on the `query`.

-----

<!--

_id: 53f7a1067cef8c8129000463
master: content
createdAt: 2014-08-22T19:59:02.000Z
updatedAt: 2014-08-26T20:58:31.154Z


-->

# `$resource` create

{{codeblock id:"53f7a0b87cef8c8129000462" visible:"12,18-28,49"}}

* Will `POST` to `/api/reservations/:id`

-----

<!--

_id: 53f7a19c7cef8c8129000464
master: content
createdAt: 2014-08-22T20:01:32.000Z
updatedAt: 2014-08-26T20:58:31.154Z


-->

# `$resource` update

{{codeblock id:"53f7a0b87cef8c8129000462" visible:"12,18,28-38,49"}}

* Will `put` to `/api/reservations/:id`

-----

<!--

_id: 53f7a1ff7cef8c8129000465
master: content
createdAt: 2014-08-22T20:03:11.000Z
updatedAt: 2014-08-26T20:58:31.155Z


-->

# `$resource` delete

{{codeblock id:"53f7a0b87cef8c8129000462" visible:"63-71"}}

* Will `DELETE` to `/api/reservations/:id`

-----

<!--

_id: 53fac4577cef8c8129000475
master: vertical
createdAt: 2014-08-25T05:06:31.000Z
updatedAt: 2014-08-26T20:58:31.155Z


-->

# Routing

-----

<!--

_id: 53f2141b7cef8c8129000319
master: content
createdAt: 2014-08-18T14:56:27.000Z
updatedAt: 2014-08-26T20:58:31.155Z


-->

# Routing

* How to make an angular app a SPA?
* Uses hash changes or HTML5 push state
* `$routeProvider` to configure routes
* `$route` service to get current route
* What is it, why is it?

-----

<!--

_id: 53f264907cef8c8129000329
master: content
createdAt: 2014-08-18T20:39:44.000Z
updatedAt: 2014-08-26T20:58:31.155Z


-->

# Setup routing

* It's another extra module you ask for when you set up the app

{{codeblock id:"53f264b37cef8c812900032b"}}


-----

<!--

_id: 53f2655f7cef8c812900032c
master: content
createdAt: 2014-08-18T20:43:11.000Z
updatedAt: 2014-08-26T20:58:31.155Z


-->

# Setup routing

{{codeblock id:"53f264b37cef8c812900032b" highlight:"2"}}


-----

<!--

_id: 53f265727cef8c812900032d
master: content
createdAt: 2014-08-18T20:43:30.000Z
updatedAt: 2014-08-26T20:58:31.155Z


-->

# Setup routing

{{codeblock id:"53f264b37cef8c812900032b" highlight:"3-8"}}


-----

<!--

_id: 53f265a57cef8c812900032e
master: content
createdAt: 2014-08-18T20:44:21.000Z
updatedAt: 2014-08-26T20:58:31.156Z


-->

# Setup routing

{{codeblock id:"53f264b37cef8c812900032b" highlight:"9-13"}}


-----

<!--

_id: 53f265b57cef8c812900032f
master: content
createdAt: 2014-08-18T20:44:37.000Z
updatedAt: 2014-08-26T20:58:31.156Z


-->

# Setup routing

{{codeblock id:"53f264b37cef8c812900032b" highlight:"14-16"}}


-----

<!--

_id: 53f26f097cef8c8129000336
master: content
createdAt: 2014-08-18T21:24:25.000Z
updatedAt: 2014-08-26T20:58:31.156Z


-->

# ng-view

```html
<body>
    <div ng-view class="container">
        <!-- template renders here -->
    </div>
</body>
```

* Views render here

-----

<!--

_id: 53f2675a7cef8c8129000330
master: content
createdAt: 2014-08-18T20:51:38.000Z
updatedAt: 2014-08-26T20:58:31.156Z


-->

# Route Options

## template

{{codeblock id:"53f267d87cef8c8129000332" visible:"1-7,23-24"}}


-----

<!--

_id: 53f26b3c7cef8c8129000333
master: content
createdAt: 2014-08-18T21:08:12.000Z
updatedAt: 2014-08-26T20:58:31.156Z


-->

# Route Options

## resolve

{{codeblock id:"53f267d87cef8c8129000332" visible:"1-4,9-19,23-24"}}


-----

<!--

_id: 53f26b857cef8c8129000334
master: content
createdAt: 2014-08-18T21:09:25.000Z
updatedAt: 2014-08-26T20:58:31.157Z


-->

# Route Options

## Resolve works with a promise

{{codeblock id:"53f267d87cef8c8129000332" visible:"26-29"}}

* The resolve injects the data so you don't have promises in the controller

-----

<!--

_id: 53f26bc07cef8c8129000335
master: content
createdAt: 2014-08-18T21:10:24.000Z
updatedAt: 2014-08-26T20:58:31.157Z


-->

# Route Options

## A few more options

{{codeblock id:"53f267d87cef8c8129000332" visible:"3-4,20-23"}}


-----

<!--

_id: 53f2142a7cef8c812900031a
master: content
createdAt: 2014-08-18T14:56:42.000Z
updatedAt: 2014-08-26T20:58:31.157Z


-->

# $route service

* Can inject into controller
* Used with `ng-view` directive and `$routeParams`
* Gives you the current "route" and all route configs
* Can listen for routing events

-----

<!--

_id: 53f351e27cef8c8129000345
master: vertical
createdAt: 2014-08-19T13:32:18.000Z
updatedAt: 2014-08-26T20:58:31.157Z


-->

# Messaging

-----

<!--

_id: 53f351e97cef8c8129000346
master: content
createdAt: 2014-08-19T13:32:25.000Z
updatedAt: 2014-08-26T20:58:31.157Z


-->

# What is messaging?

* Event Driven messaging is a design pattern
* Allows you to listen for certain "events"
* When some event occurs, a message is published
* Any object interested can listen
* Decouples the application by not creating direct references
* Often referred too as "pub/sub" for publish/subscribe

-----

<!--

_id: 53f353077cef8c8129000348
master: content-alt
createdAt: 2014-08-19T13:37:11.000Z
updatedAt: 2014-08-26T20:58:31.158Z


-->

<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 684 346" enable-background="new 0 0 684 346" xml:space="preserve"> <g> <line fill="none" stroke="#000000" stroke-width="5" stroke-miterlimit="10" x1="270.111" y1="213.625" x2="325.077" y2="130.716"></line> <line fill="none" stroke="#000000" stroke-width="5" stroke-miterlimit="10" x1="432" y1="211" x2="372.969" y2="124.944"></line> <line fill="none" stroke="#000000" stroke-width="5" stroke-miterlimit="10" x1="612" y1="211" x2="395.366" y2="103.924"></line> <line fill="none" stroke="#000000" stroke-width="5" stroke-miterlimit="10" x1="102.543" y1="218.818" x2="303" y2="103.924"></line> <circle fill="#FFFFFF" cx="72" cy="274.5" r="63.5"></circle> <g> <path d="M34.268,265.418c1.085,0.624,2.713,1.166,4.422,1.166c2.143,0,3.337-1.004,3.337-2.496c0-1.384-0.922-2.197-3.255-3.038 c-3.012-1.085-4.938-2.687-4.938-5.317c0-2.984,2.496-5.264,6.457-5.264c1.98,0,3.446,0.435,4.395,0.923l-0.814,2.686 c-0.651-0.353-1.926-0.868-3.635-0.868c-2.116,0-3.039,1.14-3.039,2.197c0,1.411,1.058,2.062,3.5,3.012 c3.174,1.193,4.72,2.794,4.72,5.426c0,2.931-2.225,5.48-6.945,5.48c-1.926,0-3.934-0.543-4.938-1.14L34.268,265.418z"></path> <path d="M50.82,263.383c0.082,2.388,1.954,3.418,4.069,3.418c1.546,0,2.659-0.217,3.663-0.597l0.488,2.307 c-1.139,0.461-2.713,0.813-4.612,0.813c-4.287,0-6.81-2.632-6.81-6.674c0-3.663,2.225-7.108,6.457-7.108 c4.286,0,5.697,3.527,5.697,6.43c0,0.624-0.054,1.112-0.109,1.411H50.82z M56.625,261.05c0.027-1.221-0.515-3.229-2.74-3.229 c-2.062,0-2.93,1.872-3.066,3.229H56.625z"></path> <path d="M69.895,269.053l-0.217-1.465h-0.082c-0.814,1.031-2.197,1.764-3.907,1.764c-2.659,0-4.151-1.927-4.151-3.934 c0-3.338,2.957-5.02,7.841-4.992v-0.217c0-0.868-0.353-2.307-2.686-2.307c-1.302,0-2.659,0.407-3.554,0.977l-0.651-2.17 c0.977-0.597,2.686-1.167,4.775-1.167c4.232,0,5.453,2.687,5.453,5.562v4.775c0,1.193,0.054,2.36,0.19,3.174H69.895z M69.461,262.596c-2.36-0.054-4.612,0.462-4.612,2.469c0,1.303,0.841,1.899,1.899,1.899c1.33,0,2.306-0.868,2.604-1.817 c0.082-0.244,0.108-0.516,0.108-0.732V262.596z"></path> <path d="M76.246,260.1c0-1.79-0.027-3.065-0.108-4.259h2.903l0.108,2.522h0.109c0.651-1.871,2.197-2.821,3.608-2.821 c0.326,0,0.516,0.027,0.787,0.082v3.146c-0.271-0.054-0.57-0.108-0.977-0.108c-1.601,0-2.686,1.031-2.984,2.523 c-0.055,0.298-0.109,0.65-0.109,1.03v6.837h-3.337V260.1z"></path> <path d="M95.375,268.646c-0.706,0.325-2.089,0.678-3.744,0.678c-4.124,0-6.81-2.632-6.81-6.729c0-3.961,2.713-7.054,7.352-7.054 c1.221,0,2.469,0.271,3.229,0.624l-0.597,2.496c-0.543-0.244-1.33-0.516-2.523-0.516c-2.55,0-4.069,1.872-4.042,4.287 c0,2.713,1.763,4.259,4.042,4.259c1.167,0,1.98-0.244,2.632-0.516L95.375,268.646z"></path> <path d="M97.846,249.791h3.364v7.867h0.054c0.407-0.624,0.95-1.14,1.655-1.52c0.651-0.38,1.438-0.597,2.279-0.597 c2.251,0,4.612,1.492,4.612,5.725v7.786h-3.337v-7.406c0-1.927-0.706-3.364-2.55-3.364c-1.302,0-2.225,0.868-2.577,1.872 c-0.109,0.271-0.136,0.624-0.136,1.004v7.895h-3.364V249.791z"></path> <path d="M43.314,301.073c-0.787,0.407-2.523,0.814-4.721,0.814c-5.806,0-9.333-3.636-9.333-9.197c0-6.023,4.178-9.658,9.767-9.658 c2.197,0,3.771,0.461,4.449,0.813l-0.732,2.659c-0.868-0.38-2.062-0.706-3.581-0.706c-3.717,0-6.403,2.333-6.403,6.729 c0,4.016,2.36,6.593,6.375,6.593c1.356,0,2.767-0.271,3.635-0.679L43.314,301.073z"></path> <path d="M58.158,294.888c0,4.856-3.418,7.026-6.783,7.026c-3.744,0-6.62-2.577-6.62-6.81c0-4.341,2.849-6.999,6.836-6.999 C55.526,288.105,58.158,290.872,58.158,294.888z M48.201,295.023c0,2.55,1.248,4.477,3.283,4.477c1.899,0,3.229-1.872,3.229-4.531 c0-2.062-0.922-4.422-3.201-4.422C49.151,290.547,48.201,292.826,48.201,295.023z"></path> <path d="M60.901,292.338c0-1.52-0.027-2.795-0.108-3.935h2.93l0.163,1.98h0.082c0.569-1.03,2.007-2.278,4.205-2.278 c2.306,0,4.693,1.492,4.693,5.67v7.841h-3.337v-7.461c0-1.899-0.706-3.337-2.523-3.337c-1.33,0-2.252,0.949-2.604,1.953 c-0.109,0.299-0.136,0.705-0.136,1.085v7.76h-3.364V292.338z"></path> <path d="M80.112,284.633v3.771h3.174v2.496h-3.174v5.833c0,1.601,0.434,2.441,1.709,2.441c0.57,0,1.004-0.081,1.302-0.162 l0.054,2.55c-0.488,0.19-1.356,0.326-2.415,0.326c-1.221,0-2.252-0.407-2.876-1.086c-0.705-0.76-1.031-1.953-1.031-3.689v-6.213 h-1.899v-2.496h1.899v-2.984L80.112,284.633z"></path> <path d="M85.812,292.663c0-1.791-0.027-3.065-0.108-4.26h2.903l0.108,2.523h0.109c0.651-1.872,2.197-2.821,3.608-2.821 c0.326,0,0.516,0.026,0.787,0.081v3.147c-0.271-0.055-0.57-0.108-0.977-0.108c-1.601,0-2.686,1.03-2.984,2.522 c-0.055,0.299-0.109,0.651-0.109,1.031v6.837h-3.337V292.663z"></path> <path d="M107.79,294.888c0,4.856-3.418,7.026-6.783,7.026c-3.744,0-6.62-2.577-6.62-6.81c0-4.341,2.849-6.999,6.836-6.999 C105.158,288.105,107.79,290.872,107.79,294.888z M97.833,295.023c0,2.55,1.248,4.477,3.283,4.477 c1.899,0,3.229-1.872,3.229-4.531c0-2.062-0.922-4.422-3.201-4.422C98.782,290.547,97.833,292.826,97.833,295.023z"></path> <path d="M110.532,282.354h3.364v19.263h-3.364V282.354z"></path> </g> <circle fill="#FFFFFF" cx="252" cy="274.5" r="63.5"></circle> <g> <path d="M211.88,268.012c1.248-0.218,3.12-0.38,5.046-0.38c2.631,0,4.422,0.434,5.643,1.465c1.003,0.841,1.573,2.116,1.573,3.662 c0,2.36-1.601,3.961-3.31,4.585v0.082c1.302,0.488,2.089,1.764,2.55,3.526c0.57,2.279,1.058,4.396,1.438,5.101h-3.445 c-0.271-0.542-0.706-2.034-1.221-4.313c-0.516-2.388-1.384-3.147-3.283-3.201h-1.682v7.515h-3.31V268.012z M215.19,276.097h1.98 c2.251,0,3.663-1.194,3.663-3.012c0-2.008-1.411-2.931-3.582-2.931c-1.058,0-1.736,0.082-2.062,0.163V276.097z"></path> <path d="M229.626,280.383c0.082,2.388,1.954,3.418,4.069,3.418c1.547,0,2.659-0.217,3.663-0.597l0.489,2.307 c-1.14,0.461-2.713,0.813-4.612,0.813c-4.287,0-6.81-2.632-6.81-6.674c0-3.663,2.225-7.108,6.457-7.108 c4.286,0,5.697,3.527,5.697,6.43c0,0.624-0.054,1.112-0.109,1.411H229.626z M235.432,278.05c0.027-1.221-0.515-3.229-2.74-3.229 c-2.062,0-2.93,1.872-3.066,3.229H235.432z"></path> <path d="M241.105,282.987c0.759,0.461,2.197,0.949,3.391,0.949c1.465,0,2.116-0.597,2.116-1.465c0-0.896-0.542-1.356-2.17-1.926 c-2.578-0.896-3.663-2.307-3.635-3.853c0-2.333,1.926-4.151,4.992-4.151c1.465,0,2.74,0.38,3.5,0.787l-0.651,2.36 c-0.57-0.326-1.628-0.76-2.794-0.76c-1.194,0-1.845,0.569-1.845,1.384c0,0.841,0.624,1.248,2.306,1.845 c2.387,0.868,3.5,2.089,3.527,4.042c0,2.388-1.872,4.124-5.372,4.124c-1.601,0-3.038-0.38-4.015-0.923L241.105,282.987z"></path> <path d="M264.412,282.092c0,1.573,0.054,2.876,0.109,3.961h-2.93l-0.163-2.008h-0.055c-0.569,0.95-1.872,2.307-4.232,2.307 c-2.415,0-4.612-1.438-4.612-5.752v-7.759h3.337v7.189c0,2.197,0.706,3.608,2.469,3.608c1.33,0,2.198-0.95,2.55-1.791 c0.108-0.298,0.19-0.651,0.19-1.031v-7.976h3.337V282.092z"></path> <path d="M268.023,266.791h3.364v19.262h-3.364V266.791z"></path> <path d="M278.822,269.069v3.771h3.174v2.496h-3.174v5.833c0,1.601,0.434,2.441,1.709,2.441c0.57,0,1.004-0.081,1.302-0.163 l0.054,2.551c-0.488,0.189-1.356,0.325-2.415,0.325c-1.221,0-2.252-0.407-2.876-1.085c-0.705-0.76-1.031-1.953-1.031-3.689v-6.213 h-1.899v-2.496h1.899v-2.984L278.822,269.069z"></path> <path d="M284.358,282.987c0.76,0.461,2.197,0.949,3.391,0.949c1.465,0,2.116-0.597,2.116-1.465c0-0.896-0.542-1.356-2.17-1.926 c-2.577-0.896-3.663-2.307-3.635-3.853c0-2.333,1.926-4.151,4.992-4.151c1.465,0,2.74,0.38,3.5,0.787l-0.651,2.36 c-0.57-0.326-1.628-0.76-2.794-0.76c-1.194,0-1.845,0.569-1.845,1.384c0,0.841,0.624,1.248,2.306,1.845 c2.387,0.868,3.5,2.089,3.527,4.042c0,2.388-1.872,4.124-5.372,4.124c-1.601,0-3.039-0.38-4.016-0.923L284.358,282.987z"></path> </g> <circle fill="#FFFFFF" cx="432" cy="274.5" r="63.5"></circle> <g> <path d="M410.697,270.562h-5.209v-2.795h13.81v2.795h-5.264v15.491h-3.337V270.562z"></path> <path d="M426.978,286.054l-0.217-1.465h-0.081c-0.814,1.03-2.197,1.763-3.907,1.763c-2.658,0-4.15-1.926-4.15-3.934 c0-3.337,2.957-5.019,7.841-4.992v-0.217c0-0.868-0.354-2.306-2.687-2.306c-1.302,0-2.658,0.406-3.554,0.977l-0.651-2.171 c0.977-0.597,2.686-1.166,4.775-1.166c4.231,0,5.453,2.686,5.453,5.562v4.774c0,1.194,0.054,2.36,0.189,3.175H426.978z M426.544,279.597c-2.36-0.055-4.612,0.461-4.612,2.469c0,1.302,0.841,1.899,1.899,1.899c1.329,0,2.306-0.868,2.604-1.818 c0.081-0.244,0.108-0.516,0.108-0.732V279.597z"></path> <path d="M433.221,286.054c0.055-0.896,0.108-2.36,0.108-3.717v-15.546h3.337v7.868h0.055c0.813-1.275,2.252-2.116,4.232-2.116 c3.229,0,5.534,2.686,5.507,6.701c0,4.747-3.011,7.107-5.995,7.107c-1.709,0-3.229-0.65-4.179-2.278h-0.054l-0.163,1.98H433.221z M436.666,280.601c0,0.271,0.027,0.542,0.082,0.786c0.353,1.33,1.52,2.334,2.957,2.334c2.089,0,3.364-1.683,3.364-4.341 c0-2.334-1.112-4.232-3.337-4.232c-1.356,0-2.578,0.977-2.957,2.441c-0.055,0.244-0.109,0.543-0.109,0.868V280.601z"></path> <path d="M449.041,282.987c0.76,0.462,2.197,0.95,3.391,0.95c1.465,0,2.116-0.597,2.116-1.465c0-0.896-0.542-1.356-2.17-1.927 c-2.577-0.896-3.663-2.306-3.636-3.853c0-2.333,1.927-4.15,4.992-4.15c1.465,0,2.74,0.38,3.5,0.786l-0.651,2.36 c-0.57-0.325-1.628-0.76-2.795-0.76c-1.193,0-1.845,0.57-1.845,1.384c0,0.842,0.624,1.248,2.307,1.845 c2.387,0.868,3.499,2.09,3.526,4.043c0,2.388-1.872,4.124-5.371,4.124c-1.602,0-3.039-0.38-4.016-0.923L449.041,282.987z"></path> </g> <circle fill="#FFFFFF" cx="612" cy="274.5" r="63.5"></circle> <g> <path d="M573.386,268.012c1.465-0.244,3.337-0.38,5.317-0.38c3.418,0,5.779,0.706,7.461,2.116 c1.764,1.438,2.849,3.608,2.849,6.729c0,3.256-1.112,5.697-2.849,7.271c-1.818,1.655-4.721,2.496-8.275,2.496 c-1.953,0-3.418-0.108-4.503-0.244V268.012z M576.723,283.503c0.461,0.082,1.166,0.082,1.845,0.082 c4.341,0.026,6.919-2.36,6.919-7c0.026-4.042-2.307-6.349-6.484-6.349c-1.059,0-1.818,0.082-2.279,0.19V283.503z"></path> <path d="M594.145,280.383c0.081,2.388,1.953,3.419,4.068,3.419c1.547,0,2.66-0.217,3.663-0.597l0.488,2.306 c-1.14,0.461-2.713,0.814-4.612,0.814c-4.286,0-6.809-2.632-6.809-6.675c0-3.662,2.225-7.107,6.457-7.107 c4.285,0,5.697,3.526,5.697,6.43c0,0.624-0.055,1.112-0.109,1.41H594.145z M599.949,278.05c0.027-1.221-0.515-3.229-2.739-3.229 c-2.062,0-2.931,1.872-3.065,3.229H599.949z"></path> <path d="M609.611,269.07v3.771h3.174v2.496h-3.174v5.833c0,1.601,0.434,2.441,1.709,2.441c0.57,0,1.004-0.081,1.303-0.162 l0.054,2.55c-0.488,0.19-1.356,0.326-2.415,0.326c-1.221,0-2.252-0.407-2.875-1.086c-0.705-0.76-1.031-1.953-1.031-3.689v-6.213 h-1.898v-2.496h1.898v-2.984L609.611,269.07z"></path> <path d="M622.744,286.054l-0.217-1.465h-0.082c-0.814,1.03-2.197,1.763-3.906,1.763c-2.659,0-4.151-1.926-4.151-3.934 c0-3.337,2.957-5.019,7.841-4.992v-0.217c0-0.868-0.354-2.306-2.686-2.306c-1.303,0-2.659,0.406-3.555,0.977l-0.65-2.171 c0.977-0.597,2.686-1.166,4.774-1.166c4.231,0,5.453,2.686,5.453,5.562v4.774c0,1.194,0.054,2.36,0.19,3.175H622.744z M622.31,279.597c-2.36-0.055-4.612,0.461-4.612,2.469c0,1.302,0.842,1.899,1.899,1.899c1.329,0,2.306-0.868,2.604-1.818 c0.082-0.244,0.108-0.516,0.108-0.732V279.597z"></path> <path d="M632.649,269.151c0,1.004-0.732,1.791-1.899,1.791c-1.112,0-1.845-0.787-1.845-1.791c0-1.031,0.76-1.817,1.872-1.817 C631.917,267.334,632.622,268.12,632.649,269.151z M629.096,286.054v-13.213h3.363v13.213H629.096z"></path> <path d="M636.041,266.791h3.365v19.263h-3.365V266.791z"></path> <path d="M642.853,282.987c0.76,0.462,2.197,0.95,3.392,0.95c1.465,0,2.115-0.597,2.115-1.465c0-0.896-0.542-1.356-2.17-1.927 c-2.577-0.896-3.662-2.306-3.635-3.853c0-2.333,1.926-4.15,4.991-4.15c1.465,0,2.74,0.38,3.5,0.786l-0.651,2.36 c-0.57-0.325-1.628-0.76-2.795-0.76c-1.193,0-1.844,0.57-1.844,1.384c0,0.842,0.623,1.248,2.306,1.845 c2.388,0.868,3.499,2.09,3.526,4.043c0,2.388-1.871,4.124-5.371,4.124c-1.602,0-3.039-0.38-4.016-0.923L642.853,282.987z"></path> </g> <circle fill="#FFFFFF" cx="348" cy="71.5" r="63.5"></circle> <g> <path d="M329.153,72.872l-1.574,5.182h-3.445l5.86-18.286h4.26l5.941,18.286h-3.581l-1.655-5.182H329.153z M334.389,70.348 l-1.438-4.503c-0.353-1.112-0.651-2.36-0.922-3.418h-0.055c-0.271,1.058-0.542,2.333-0.868,3.418l-1.411,4.503H334.389z"></path> <path d="M342.478,69.236c0-1.736-0.054-3.147-0.108-4.395h2.93l0.163,2.035h0.054c0.977-1.492,2.523-2.333,4.531-2.333 c3.038,0,5.562,2.604,5.562,6.728c0,4.775-3.012,7.081-6.022,7.081c-1.655,0-3.039-0.705-3.718-1.763h-0.054v6.836h-3.337V69.236z M345.814,72.519c0,0.326,0.027,0.624,0.108,0.922c0.325,1.356,1.52,2.333,2.93,2.333c2.116,0,3.364-1.764,3.364-4.368 c0-2.333-1.14-4.232-3.282-4.232c-1.384,0-2.659,1.004-2.984,2.469c-0.082,0.271-0.136,0.569-0.136,0.841V72.519z"></path> <path d="M358.352,69.236c0-1.736-0.054-3.147-0.108-4.395h2.931l0.162,2.035h0.055c0.977-1.492,2.522-2.333,4.53-2.333 c3.039,0,5.562,2.604,5.562,6.728c0,4.775-3.011,7.081-6.022,7.081c-1.655,0-3.038-0.705-3.717-1.763h-0.055v6.836h-3.337V69.236z M361.688,72.519c0,0.326,0.027,0.624,0.109,0.922c0.325,1.356,1.519,2.333,2.93,2.333c2.116,0,3.364-1.764,3.364-4.368 c0-2.333-1.14-4.232-3.283-4.232c-1.384,0-2.658,1.004-2.984,2.469c-0.081,0.271-0.136,0.569-0.136,0.841V72.519z"></path> </g> </g> </svg>

-----

<!--

_id: 53f352f57cef8c8129000347
master: content-alt
createdAt: 2014-08-19T13:36:53.000Z
updatedAt: 2014-08-26T20:58:31.158Z


-->

<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 859 314" enable-background="new 0 0 859 314" xml:space="preserve"> <g> <line fill="none" stroke="#000000" stroke-width="5" stroke-miterlimit="10" x1="72.5" y1="175" x2="72.5" y2="56"></line> <circle fill="#FFFFFF" cx="246" cy="238.5" r="63.5"></circle> <g> <path d="M208.268,229.418c1.085,0.624,2.713,1.166,4.422,1.166c2.143,0,3.337-1.004,3.337-2.496c0-1.384-0.922-2.197-3.255-3.038 c-3.012-1.085-4.938-2.687-4.938-5.317c0-2.984,2.496-5.264,6.457-5.264c1.98,0,3.446,0.435,4.395,0.923l-0.814,2.686 c-0.651-0.353-1.926-0.868-3.635-0.868c-2.116,0-3.039,1.14-3.039,2.197c0,1.411,1.058,2.062,3.5,3.012 c3.174,1.193,4.72,2.794,4.72,5.426c0,2.931-2.225,5.48-6.945,5.48c-1.926,0-3.934-0.543-4.938-1.14L208.268,229.418z"></path> <path d="M224.82,227.383c0.082,2.388,1.954,3.418,4.069,3.418c1.546,0,2.659-0.217,3.663-0.597l0.488,2.307 c-1.139,0.461-2.713,0.813-4.612,0.813c-4.287,0-6.81-2.632-6.81-6.674c0-3.663,2.225-7.108,6.457-7.108 c4.286,0,5.697,3.527,5.697,6.43c0,0.624-0.054,1.112-0.109,1.411H224.82z M230.625,225.05c0.027-1.221-0.515-3.229-2.74-3.229 c-2.062,0-2.93,1.872-3.066,3.229H230.625z"></path> <path d="M243.895,233.053l-0.217-1.465h-0.082c-0.814,1.031-2.197,1.764-3.907,1.764c-2.659,0-4.151-1.927-4.151-3.934 c0-3.338,2.957-5.02,7.841-4.992v-0.217c0-0.868-0.353-2.307-2.686-2.307c-1.302,0-2.659,0.407-3.554,0.977l-0.651-2.17 c0.977-0.597,2.686-1.167,4.775-1.167c4.232,0,5.453,2.687,5.453,5.562v4.775c0,1.193,0.054,2.36,0.19,3.174H243.895z M243.461,226.596c-2.36-0.054-4.612,0.462-4.612,2.469c0,1.303,0.841,1.899,1.899,1.899c1.33,0,2.306-0.868,2.604-1.817 c0.082-0.244,0.108-0.516,0.108-0.732V226.596z"></path> <path d="M250.246,224.1c0-1.79-0.027-3.065-0.108-4.259h2.903l0.108,2.522h0.109c0.651-1.871,2.197-2.821,3.608-2.821 c0.326,0,0.516,0.027,0.787,0.082v3.146c-0.271-0.054-0.57-0.108-0.977-0.108c-1.601,0-2.686,1.031-2.984,2.523 c-0.055,0.298-0.109,0.65-0.109,1.03v6.837h-3.337V224.1z"></path> <path d="M269.375,232.646c-0.706,0.325-2.089,0.678-3.744,0.678c-4.124,0-6.81-2.632-6.81-6.729c0-3.961,2.713-7.054,7.352-7.054 c1.221,0,2.469,0.271,3.229,0.624l-0.597,2.496c-0.543-0.244-1.33-0.516-2.523-0.516c-2.55,0-4.069,1.872-4.042,4.287 c0,2.713,1.763,4.259,4.042,4.259c1.167,0,1.98-0.244,2.632-0.516L269.375,232.646z"></path> <path d="M271.846,213.791h3.364v7.867h0.054c0.407-0.624,0.95-1.14,1.655-1.52c0.651-0.38,1.438-0.597,2.279-0.597 c2.251,0,4.612,1.492,4.612,5.725v7.786h-3.337v-7.406c0-1.927-0.706-3.364-2.55-3.364c-1.302,0-2.225,0.868-2.577,1.872 c-0.109,0.271-0.136,0.624-0.136,1.004v7.895h-3.364V213.791z"></path> <path d="M217.314,265.073c-0.787,0.407-2.523,0.814-4.721,0.814c-5.806,0-9.333-3.636-9.333-9.197 c0-6.023,4.178-9.658,9.767-9.658c2.197,0,3.771,0.461,4.449,0.813l-0.732,2.659c-0.868-0.38-2.062-0.706-3.581-0.706 c-3.717,0-6.403,2.333-6.403,6.729c0,4.016,2.36,6.593,6.375,6.593c1.356,0,2.767-0.271,3.635-0.679L217.314,265.073z"></path> <path d="M232.158,258.888c0,4.856-3.418,7.026-6.783,7.026c-3.744,0-6.62-2.577-6.62-6.81c0-4.341,2.849-6.999,6.836-6.999 C229.526,252.105,232.158,254.872,232.158,258.888z M222.201,259.023c0,2.55,1.248,4.477,3.283,4.477 c1.899,0,3.229-1.872,3.229-4.531c0-2.062-0.922-4.422-3.201-4.422C223.151,254.547,222.201,256.826,222.201,259.023z"></path> <path d="M234.901,256.338c0-1.52-0.027-2.795-0.108-3.935h2.93l0.163,1.98h0.082c0.569-1.03,2.007-2.278,4.205-2.278 c2.306,0,4.693,1.492,4.693,5.67v7.841h-3.337v-7.461c0-1.899-0.706-3.337-2.523-3.337c-1.33,0-2.252,0.949-2.604,1.953 c-0.109,0.299-0.136,0.705-0.136,1.085v7.76h-3.364V256.338z"></path> <path d="M254.112,248.633v3.771h3.174v2.496h-3.174v5.833c0,1.601,0.434,2.441,1.709,2.441c0.57,0,1.004-0.081,1.302-0.162 l0.054,2.55c-0.488,0.19-1.356,0.326-2.415,0.326c-1.221,0-2.252-0.407-2.876-1.086c-0.705-0.76-1.031-1.953-1.031-3.689v-6.213 h-1.899v-2.496h1.899v-2.984L254.112,248.633z"></path> <path d="M259.812,256.663c0-1.791-0.027-3.065-0.108-4.26h2.903l0.108,2.523h0.109c0.651-1.872,2.197-2.821,3.608-2.821 c0.326,0,0.516,0.026,0.787,0.081v3.147c-0.271-0.055-0.57-0.108-0.977-0.108c-1.601,0-2.686,1.03-2.984,2.522 c-0.055,0.299-0.109,0.651-0.109,1.031v6.837h-3.337V256.663z"></path> <path d="M281.79,258.888c0,4.856-3.418,7.026-6.783,7.026c-3.744,0-6.62-2.577-6.62-6.81c0-4.341,2.849-6.999,6.836-6.999 C279.158,252.105,281.79,254.872,281.79,258.888z M271.833,259.023c0,2.55,1.248,4.477,3.283,4.477 c1.899,0,3.229-1.872,3.229-4.531c0-2.062-0.922-4.422-3.201-4.422C272.782,254.547,271.833,256.826,271.833,259.023z"></path> <path d="M284.532,246.354h3.364v19.263h-3.364V246.354z"></path> </g> <circle fill="#FFFFFF" cx="426" cy="238.5" r="63.5"></circle> <g> <path d="M385.88,232.012c1.248-0.218,3.12-0.38,5.046-0.38c2.631,0,4.422,0.434,5.643,1.465c1.003,0.841,1.573,2.116,1.573,3.662 c0,2.36-1.601,3.961-3.31,4.585v0.082c1.302,0.488,2.089,1.764,2.55,3.526c0.57,2.279,1.058,4.396,1.438,5.101h-3.445 c-0.271-0.542-0.706-2.034-1.221-4.313c-0.516-2.388-1.384-3.147-3.283-3.201h-1.682v7.515h-3.31V232.012z M389.19,240.097h1.98 c2.251,0,3.663-1.194,3.663-3.012c0-2.008-1.411-2.931-3.582-2.931c-1.058,0-1.736,0.082-2.062,0.163V240.097z"></path> <path d="M403.626,244.383c0.082,2.388,1.954,3.418,4.069,3.418c1.547,0,2.659-0.217,3.663-0.597l0.489,2.307 c-1.14,0.461-2.713,0.813-4.612,0.813c-4.287,0-6.81-2.632-6.81-6.674c0-3.663,2.225-7.108,6.457-7.108 c4.286,0,5.697,3.527,5.697,6.43c0,0.624-0.054,1.112-0.109,1.411H403.626z M409.432,242.05c0.027-1.221-0.515-3.229-2.74-3.229 c-2.062,0-2.93,1.872-3.066,3.229H409.432z"></path> <path d="M415.105,246.987c0.759,0.461,2.197,0.949,3.391,0.949c1.465,0,2.116-0.597,2.116-1.465c0-0.896-0.542-1.356-2.17-1.926 c-2.578-0.896-3.663-2.307-3.635-3.853c0-2.333,1.926-4.151,4.992-4.151c1.465,0,2.74,0.38,3.5,0.787l-0.651,2.36 c-0.57-0.326-1.628-0.76-2.794-0.76c-1.194,0-1.845,0.569-1.845,1.384c0,0.841,0.624,1.248,2.306,1.845 c2.387,0.868,3.5,2.089,3.527,4.042c0,2.388-1.872,4.124-5.372,4.124c-1.601,0-3.038-0.38-4.015-0.923L415.105,246.987z"></path> <path d="M438.411,246.092c0,1.573,0.055,2.876,0.109,3.961h-2.931l-0.162-2.008h-0.055c-0.569,0.95-1.872,2.307-4.232,2.307 c-2.414,0-4.612-1.438-4.612-5.752v-7.759h3.337v7.189c0,2.197,0.706,3.608,2.468,3.608c1.33,0,2.198-0.95,2.551-1.791 c0.108-0.298,0.189-0.651,0.189-1.031v-7.976h3.337V246.092z"></path> <path d="M442.022,230.791h3.364v19.262h-3.364V230.791z"></path> <path d="M452.821,233.069v3.771h3.175v2.496h-3.175v5.833c0,1.601,0.435,2.441,1.71,2.441c0.569,0,1.004-0.081,1.302-0.163 l0.055,2.551c-0.488,0.189-1.356,0.325-2.415,0.325c-1.221,0-2.252-0.407-2.876-1.085c-0.705-0.76-1.03-1.953-1.03-3.689v-6.213 h-1.899v-2.496h1.899v-2.984L452.821,233.069z"></path> <path d="M458.358,246.987c0.76,0.461,2.197,0.949,3.391,0.949c1.465,0,2.116-0.597,2.116-1.465c0-0.896-0.542-1.356-2.17-1.926 c-2.577-0.896-3.663-2.307-3.636-3.853c0-2.333,1.927-4.151,4.992-4.151c1.465,0,2.74,0.38,3.5,0.787l-0.651,2.36 c-0.57-0.326-1.628-0.76-2.795-0.76c-1.193,0-1.845,0.569-1.845,1.384c0,0.841,0.624,1.248,2.307,1.845 c2.387,0.868,3.499,2.089,3.526,4.042c0,2.388-1.872,4.124-5.371,4.124c-1.602,0-3.039-0.38-4.016-0.923L458.358,246.987z"></path> </g> <circle fill="#FFFFFF" cx="606" cy="238.5" r="63.5"></circle> <g> <path d="M584.697,234.562h-5.209v-2.795h13.81v2.795h-5.263v15.491h-3.338V234.562z"></path> <path d="M600.979,250.054l-0.217-1.465h-0.082c-0.814,1.03-2.197,1.763-3.906,1.763c-2.659,0-4.151-1.926-4.151-3.934 c0-3.337,2.957-5.019,7.841-4.992v-0.217c0-0.868-0.354-2.306-2.686-2.306c-1.303,0-2.659,0.406-3.555,0.977l-0.65-2.171 c0.977-0.597,2.686-1.166,4.774-1.166c4.231,0,5.453,2.686,5.453,5.562v4.774c0,1.194,0.054,2.36,0.19,3.175H600.979z M600.544,243.597c-2.36-0.055-4.612,0.461-4.612,2.469c0,1.302,0.842,1.899,1.899,1.899c1.329,0,2.306-0.868,2.604-1.818 c0.082-0.244,0.108-0.516,0.108-0.732V243.597z"></path> <path d="M607.221,250.054c0.055-0.896,0.109-2.36,0.109-3.717v-15.546h3.336v7.868h0.055c0.814-1.275,2.252-2.116,4.232-2.116 c3.229,0,5.535,2.686,5.508,6.701c0,4.747-3.012,7.107-5.996,7.107c-1.709,0-3.229-0.65-4.178-2.278h-0.055l-0.162,1.98H607.221z M610.666,244.601c0,0.271,0.027,0.542,0.082,0.786c0.353,1.33,1.52,2.334,2.957,2.334c2.09,0,3.364-1.683,3.364-4.341 c0-2.334-1.112-4.232-3.337-4.232c-1.356,0-2.578,0.977-2.957,2.441c-0.055,0.244-0.109,0.543-0.109,0.868V244.601z"></path> <path d="M623.041,246.987c0.76,0.462,2.197,0.95,3.391,0.95c1.465,0,2.117-0.597,2.117-1.465c0-0.896-0.543-1.356-2.171-1.927 c-2.577-0.896-3.663-2.306-3.636-3.853c0-2.333,1.927-4.15,4.992-4.15c1.465,0,2.74,0.38,3.5,0.786l-0.651,2.36 c-0.569-0.325-1.628-0.76-2.794-0.76c-1.194,0-1.846,0.57-1.846,1.384c0,0.842,0.625,1.248,2.307,1.845 c2.387,0.868,3.5,2.09,3.527,4.043c0,2.388-1.873,4.124-5.372,4.124c-1.601,0-3.039-0.38-4.016-0.923L623.041,246.987z"></path> </g> <circle fill="#FFFFFF" cx="786" cy="238.5" r="63.5"></circle> <g> <path d="M747.386,232.012c1.465-0.244,3.337-0.38,5.317-0.38c3.418,0,5.779,0.706,7.461,2.116 c1.764,1.438,2.849,3.608,2.849,6.729c0,3.256-1.112,5.697-2.849,7.271c-1.818,1.655-4.721,2.496-8.275,2.496 c-1.953,0-3.418-0.108-4.503-0.244V232.012z M750.723,247.503c0.461,0.082,1.166,0.082,1.845,0.082 c4.341,0.026,6.919-2.36,6.919-7c0.026-4.042-2.307-6.349-6.484-6.349c-1.059,0-1.818,0.082-2.279,0.19V247.503z"></path> <path d="M768.145,244.383c0.081,2.388,1.953,3.419,4.068,3.419c1.547,0,2.66-0.217,3.663-0.597l0.488,2.306 c-1.14,0.461-2.713,0.814-4.612,0.814c-4.286,0-6.809-2.632-6.809-6.675c0-3.662,2.225-7.107,6.457-7.107 c4.285,0,5.697,3.526,5.697,6.43c0,0.624-0.055,1.112-0.109,1.41H768.145z M773.949,242.05c0.027-1.221-0.515-3.229-2.739-3.229 c-2.062,0-2.931,1.872-3.065,3.229H773.949z"></path> <path d="M783.611,233.07v3.771h3.174v2.496h-3.174v5.833c0,1.601,0.434,2.441,1.709,2.441c0.57,0,1.004-0.081,1.303-0.162 l0.054,2.55c-0.488,0.19-1.356,0.326-2.415,0.326c-1.221,0-2.252-0.407-2.875-1.086c-0.705-0.76-1.031-1.953-1.031-3.689v-6.213 h-1.898v-2.496h1.898v-2.984L783.611,233.07z"></path> <path d="M796.744,250.054l-0.217-1.465h-0.082c-0.814,1.03-2.197,1.763-3.906,1.763c-2.659,0-4.151-1.926-4.151-3.934 c0-3.337,2.957-5.019,7.841-4.992v-0.217c0-0.868-0.354-2.306-2.686-2.306c-1.303,0-2.659,0.406-3.555,0.977l-0.65-2.171 c0.977-0.597,2.686-1.166,4.774-1.166c4.231,0,5.453,2.686,5.453,5.562v4.774c0,1.194,0.054,2.36,0.19,3.175H796.744z M796.31,243.597c-2.36-0.055-4.612,0.461-4.612,2.469c0,1.302,0.842,1.899,1.899,1.899c1.329,0,2.306-0.868,2.604-1.818 c0.082-0.244,0.108-0.516,0.108-0.732V243.597z"></path> <path d="M806.649,233.151c0,1.004-0.732,1.791-1.899,1.791c-1.112,0-1.845-0.787-1.845-1.791c0-1.031,0.76-1.817,1.872-1.817 C805.917,231.334,806.622,232.12,806.649,233.151z M803.096,250.054v-13.213h3.363v13.213H803.096z"></path> <path d="M810.041,230.791h3.365v19.263h-3.365V230.791z"></path> <path d="M816.853,246.987c0.76,0.462,2.197,0.95,3.392,0.95c1.465,0,2.115-0.597,2.115-1.465c0-0.896-0.542-1.356-2.17-1.927 c-2.577-0.896-3.662-2.306-3.635-3.853c0-2.333,1.926-4.15,4.991-4.15c1.465,0,2.74,0.38,3.5,0.786l-0.651,2.36 c-0.57-0.325-1.628-0.76-2.795-0.76c-1.193,0-1.844,0.57-1.844,1.384c0,0.842,0.623,1.248,2.306,1.845 c2.388,0.868,3.499,2.09,3.526,4.043c0,2.388-1.871,4.124-5.371,4.124c-1.602,0-3.039-0.38-4.016-0.923L816.853,246.987z"></path> </g> <circle fill="#FFFFFF" cx="73" cy="239.5" r="63.5"></circle> <g> <path d="M54.153,240.871l-1.574,5.182h-3.445l5.86-18.285h4.26l5.941,18.285h-3.581l-1.655-5.182H54.153z M59.389,238.348 l-1.438-4.503c-0.353-1.112-0.651-2.36-0.922-3.419h-0.055c-0.271,1.059-0.542,2.333-0.868,3.419l-1.411,4.503H59.389z"></path> <path d="M67.478,237.235c0-1.736-0.054-3.146-0.108-4.395h2.93l0.163,2.034h0.054c0.977-1.492,2.523-2.333,4.531-2.333 c3.039,0,5.562,2.604,5.562,6.729c0,4.774-3.011,7.081-6.022,7.081c-1.655,0-3.039-0.705-3.717-1.764h-0.054v6.837h-3.337V237.235 z M70.814,240.519c0,0.325,0.027,0.624,0.109,0.922c0.325,1.356,1.519,2.334,2.93,2.334c2.116,0,3.364-1.764,3.364-4.368 c0-2.333-1.14-4.232-3.283-4.232c-1.384,0-2.659,1.004-2.984,2.469c-0.082,0.271-0.136,0.569-0.136,0.841V240.519z"></path> <path d="M83.352,237.235c0-1.736-0.054-3.146-0.108-4.395h2.93l0.163,2.034h0.054c0.977-1.492,2.523-2.333,4.531-2.333 c3.039,0,5.562,2.604,5.562,6.729c0,4.774-3.011,7.081-6.023,7.081c-1.655,0-3.038-0.705-3.717-1.764h-0.054v6.837h-3.337V237.235 z M86.689,240.519c0,0.325,0.027,0.624,0.109,0.922c0.325,1.356,1.519,2.334,2.93,2.334c2.116,0,3.364-1.764,3.364-4.368 c0-2.333-1.14-4.232-3.283-4.232c-1.384,0-2.659,1.004-2.984,2.469c-0.082,0.271-0.136,0.569-0.136,0.841V240.519z"></path> </g> <line fill="none" stroke="#000000" stroke-width="5" stroke-miterlimit="10" x1="245.5" y1="175" x2="245.5" y2="56"></line> <line fill="none" stroke="#000000" stroke-width="5" stroke-miterlimit="10" x1="426.5" y1="175" x2="426.5" y2="56"></line> <line fill="none" stroke="#000000" stroke-width="5" stroke-miterlimit="10" x1="607.5" y1="175" x2="607.5" y2="56"></line> <line fill="none" stroke="#000000" stroke-width="5" stroke-miterlimit="10" x1="788.5" y1="175" x2="788.5" y2="56"></line> <rect x="38" y="11" fill="#FFFFFF" width="772" height="46"></rect> <g> <path d="M368.09,34.592c-0.108-2.36-0.244-5.209-0.217-7.678h-0.082c-0.597,2.225-1.356,4.693-2.17,7l-2.659,7.922h-2.578 l-2.441-7.813c-0.706-2.333-1.356-4.83-1.845-7.108h-0.054c-0.081,2.388-0.19,5.291-0.325,7.787l-0.407,7.352h-3.12l1.221-18.286 h4.395l2.387,7.352c0.651,2.144,1.221,4.314,1.682,6.349h0.082c0.488-1.98,1.112-4.232,1.818-6.375l2.523-7.325h4.341 l1.058,18.286h-3.256L368.09,34.592z"></path> <path d="M377.454,36.383c0.082,2.388,1.954,3.418,4.069,3.418c1.547,0,2.659-0.217,3.663-0.597l0.489,2.306 c-1.14,0.461-2.713,0.814-4.612,0.814c-4.287,0-6.81-2.632-6.81-6.674c0-3.663,2.225-7.108,6.457-7.108 c4.286,0,5.697,3.527,5.697,6.43c0,0.624-0.054,1.112-0.109,1.411H377.454z M383.26,34.05c0.027-1.221-0.515-3.229-2.74-3.229 c-2.062,0-2.93,1.872-3.066,3.229H383.26z"></path> <path d="M388.933,38.987c0.759,0.461,2.197,0.95,3.391,0.95c1.465,0,2.116-0.597,2.116-1.465c0-0.896-0.542-1.356-2.17-1.926 c-2.578-0.896-3.663-2.306-3.635-3.853c0-2.333,1.926-4.151,4.992-4.151c1.465,0,2.74,0.38,3.5,0.787l-0.651,2.36 c-0.57-0.326-1.628-0.76-2.794-0.76c-1.194,0-1.845,0.57-1.845,1.384c0,0.841,0.624,1.248,2.306,1.845 c2.387,0.868,3.5,2.089,3.527,4.042c0,2.388-1.872,4.124-5.372,4.124c-1.601,0-3.038-0.38-4.015-0.923L388.933,38.987z"></path> <path d="M400.249,38.987c0.759,0.461,2.197,0.95,3.391,0.95c1.465,0,2.116-0.597,2.116-1.465c0-0.896-0.542-1.356-2.17-1.926 c-2.578-0.896-3.663-2.306-3.635-3.853c0-2.333,1.926-4.151,4.992-4.151c1.465,0,2.74,0.38,3.5,0.787l-0.651,2.36 c-0.57-0.326-1.628-0.76-2.794-0.76c-1.194,0-1.845,0.57-1.845,1.384c0,0.841,0.624,1.248,2.306,1.845 c2.387,0.868,3.5,2.089,3.527,4.042c0,2.388-1.872,4.124-5.372,4.124c-1.601,0-3.038-0.38-4.015-0.923L400.249,38.987z"></path> <path d="M419.16,42.053l-0.217-1.465h-0.082c-0.814,1.031-2.198,1.763-3.907,1.763c-2.659,0-4.151-1.926-4.151-3.934 c0-3.337,2.957-5.019,7.841-4.992v-0.217c0-0.868-0.353-2.306-2.686-2.306c-1.302,0-2.659,0.407-3.554,0.977l-0.651-2.17 c0.977-0.597,2.686-1.167,4.775-1.167c4.232,0,5.453,2.686,5.453,5.562v4.775c0,1.194,0.054,2.36,0.19,3.174H419.16z M418.726,35.596c-2.36-0.054-4.612,0.461-4.612,2.469c0,1.302,0.841,1.899,1.899,1.899c1.33,0,2.306-0.868,2.604-1.818 c0.082-0.244,0.108-0.516,0.108-0.732V35.596z"></path> <path d="M437.584,28.841c-0.055,0.896-0.108,1.98-0.108,3.798v7.488c0,2.767-0.57,4.748-1.953,5.996 c-1.384,1.221-3.283,1.601-5.101,1.601c-1.682,0-3.473-0.353-4.612-1.058l0.732-2.523c0.841,0.488,2.252,1.004,3.853,1.004 c2.17,0,3.798-1.14,3.798-3.988v-1.139h-0.054c-0.76,1.167-2.116,1.953-3.853,1.953c-3.283,0-5.616-2.713-5.616-6.457 c0-4.341,2.821-6.972,5.996-6.972c2.008,0,3.201,0.977,3.825,2.062h0.054l0.136-1.764H437.584z M434.139,34.131 c0-0.298-0.027-0.624-0.108-0.896c-0.354-1.221-1.303-2.143-2.713-2.143c-1.872,0-3.256,1.627-3.256,4.313 c0,2.252,1.14,4.07,3.229,4.07c1.248,0,2.333-0.814,2.713-2.008c0.081-0.353,0.136-0.814,0.136-1.194V34.131z"></path> <path d="M443.42,36.383c0.082,2.388,1.954,3.418,4.069,3.418c1.547,0,2.659-0.217,3.663-0.597l0.488,2.306 c-1.14,0.461-2.713,0.814-4.612,0.814c-4.286,0-6.81-2.632-6.81-6.674c0-3.663,2.225-7.108,6.457-7.108 c4.286,0,5.697,3.527,5.697,6.43c0,0.624-0.054,1.112-0.108,1.411H443.42z M449.226,34.05c0.027-1.221-0.515-3.229-2.739-3.229 c-2.062,0-2.931,1.872-3.066,3.229H449.226z"></path> <path d="M460.814,24.012c1.058-0.217,2.984-0.38,4.856-0.38c2.469,0,3.987,0.298,5.235,1.167c1.14,0.678,1.899,1.872,1.899,3.418 c0,1.682-1.058,3.229-3.038,3.961v0.054c1.926,0.488,3.689,2.008,3.689,4.531c0,1.628-0.706,2.903-1.764,3.771 c-1.302,1.14-3.445,1.709-6.782,1.709c-1.845,0-3.256-0.136-4.097-0.244V24.012z M464.124,31.229h1.709 c2.307,0,3.608-1.085,3.608-2.632c0-1.709-1.302-2.496-3.418-2.496c-0.977,0-1.547,0.054-1.899,0.136V31.229z M464.124,39.639 c0.435,0.054,1.004,0.082,1.764,0.082c2.144,0,4.042-0.814,4.042-3.066c0-2.116-1.845-2.984-4.15-2.984h-1.655V39.639z"></path> <path d="M488.137,38.092c0,1.573,0.055,2.876,0.109,3.961h-2.931l-0.162-2.008h-0.055c-0.569,0.95-1.872,2.306-4.232,2.306 c-2.414,0-4.612-1.438-4.612-5.751v-7.759h3.337v7.189c0,2.198,0.706,3.608,2.469,3.608c1.33,0,2.198-0.95,2.551-1.791 c0.108-0.298,0.189-0.651,0.189-1.031v-7.976h3.337V38.092z"></path> <path d="M491.586,38.987c0.76,0.461,2.197,0.95,3.391,0.95c1.465,0,2.116-0.597,2.116-1.465c0-0.896-0.542-1.356-2.17-1.926 c-2.577-0.896-3.663-2.306-3.636-3.853c0-2.333,1.927-4.151,4.992-4.151c1.465,0,2.74,0.38,3.5,0.787l-0.651,2.36 c-0.57-0.326-1.628-0.76-2.795-0.76c-1.193,0-1.845,0.57-1.845,1.384c0,0.841,0.624,1.248,2.307,1.845 c2.387,0.868,3.499,2.089,3.526,4.042c0,2.388-1.872,4.124-5.371,4.124c-1.602,0-3.039-0.38-4.016-0.923L491.586,38.987z"></path> </g> </g> </svg>

-----

<!--

_id: 53f214377cef8c812900031b
master: content
createdAt: 2014-08-18T14:56:55.000Z
updatedAt: 2014-08-26T20:58:31.158Z


-->

# Events in angular

## pub/sub

* `$rootScope` has a "pub/sub" API
* All scopes have access to events
* `$emit`, `$broadcast`, and `$on`
* `ngRoute` uses events to publish routing changes

-----

<!--

_id: 53f359037cef8c8129000349
master: content
createdAt: 2014-08-19T14:02:43.000Z
updatedAt: 2014-08-26T20:58:31.158Z


-->

# subscribing

## $on(name, listener);

```js
angular.module('introToAngularApp')
    .controller('EventCtrl', function($scope) {
        $scope.$on('myEvent', function(event, args) {
            // Respond to event
            console.log(args.foo);
        });
    });
```

-----

<!--

_id: 53f3674a7cef8c812900034a
master: content
createdAt: 2014-08-19T15:03:38.000Z
updatedAt: 2014-08-26T20:58:31.158Z


-->

# subscribing

## listener(event, args);

* targetScope - {Scope}: the scope on which the event was $emit-ed or $broadcast-ed.
* currentScope - {Scope}: the scope that is currently handling the event. Once the event propagates through the scope hierarchy, this property is set to null.
* name - {string}: name of the event.
* stopPropagation - {function=}: calling stopPropagation function will cancel further event propagation (available only for events that were $emit-ed).
* preventDefault - {function}: calling preventDefault sets defaultPrevented flag to true.
defaultPrevented - {boolean}: true if preventDefault was called.

-----

<!--

_id: 53f367827cef8c812900034b
master: content
createdAt: 2014-08-19T15:04:34.000Z
updatedAt: 2014-08-26T20:58:31.159Z


-->

# publishing

## $emit(name, args);

* Emit's UP the scope chain
* Can be cancelled
* Exceptions passed to $exceptionHandler

```js
angular.module('introToAngularApp')
    .controller('OtherCtrl', function($scope) {
        $scope.$emit('myEvent', {
            foo: 'bar'
        });
    });
```

-----

<!--

_id: 53f369087cef8c812900034c
master: content
createdAt: 2014-08-19T15:11:04.000Z
updatedAt: 2014-08-26T20:58:31.159Z


-->

# publishing

## $broadcast(name, args);

* Broadcasts's DOWN the scope chain
* Can not be cancelled
* Exceptions passed to $exceptionHandler

-----

<!--

_id: 53f36ba37cef8c812900034d
master: content
createdAt: 2014-08-19T15:22:11.000Z
updatedAt: 2014-08-26T20:58:31.159Z


-->

# publishing

## $broadcast(name, args);

```js
angular.module('introToAngularApp')
    .controller('OtherCtrl', function($scope) {
        $scope.$broadcast('myEvent', {
            foo: 'bar'
        });
    });
```

-----

<!--

_id: 53f36bb67cef8c812900034e
master: content
createdAt: 2014-08-19T15:22:30.000Z
updatedAt: 2014-08-26T20:58:31.159Z


-->

# Controller communication

```js
angular.module('introToAngularApp', [])
    .controller('CartCtrl', function($scope) {
        $scope.totalItems = 0;
        $scope.$on('cart:add', function() {
            $scope.totalItems += 1;
        });
    })
    .controller('ProductCtrl', function($rootScope, $scope) {
        $scope.add = function() {
            $rootScope.$broadcast('cart:add');
        };
    });
```
```html
<body ng-app="introToAngularApp">
    <div ng-controller="CartCtrl">{{totalItems}}</div>
    <div ng-controller="ProductCtrl">
        <button ng-click="add()">Add</button>
    </div>
</body>
```

-----

<!--

_id: 53f36dba7cef8c812900034f
master: content
createdAt: 2014-08-19T15:31:06.000Z
updatedAt: 2014-08-26T20:58:31.159Z


-->

# Service communication

```js
angular.module('introToAngularApp', [])
    .controller('CartCtrl', function($scope, Product) {
        $scope.totalItems = 0;
        $scope.$on('cart:add', function() {
            $scope.totalItems += 1;
        });
        
        $scope.add = function() { Product.addProduct() };
    })
    .factory('Product', function($rootScope) {
        return {
            addProduct: function() {
                $rootScope.$broadcast('cart:add');
            }
        };
    });
```
```html
<body ng-app="introToAngularApp">
    <div ng-controller="CartCtrl">
        {{totalItems}}
        <button ng-click="add()">Add</button>
    </div>
    
</body>
```

-----

<!--

_id: 53f379507cef8c8129000350
master: content
createdAt: 2014-08-19T16:20:32.000Z
updatedAt: 2014-08-26T20:58:31.159Z


-->

# Routing events

* Can listen for these routing events
* `$routeChangeStart` before it changes
* `$routeChangeSuccess` after it changes
* `$routeChangeError` if an error occurs in one of the resolves
* `$routeUpdate` if the route updates, but stays on the same controller

-----

<!--

_id: 53f37bec7cef8c8129000351
master: content
createdAt: 2014-08-19T16:31:40.000Z
updatedAt: 2014-08-26T20:58:31.160Z


-->

# routing events

{{codeblock id:"53f37e097cef8c8129000352" visible:"1-11"}}

```html
<div ng-app="introToAngularApp">
    <a href="#/">Home</a> | <a href="#/about">About</a> | <a href="#/contact">Contact</a>
    <div ng-view></div>
</div>
```

-----

<!--

_id: 53f37e2a7cef8c8129000353
master: content
createdAt: 2014-08-19T16:41:14.000Z
updatedAt: 2014-08-26T20:58:31.160Z


-->

# routing events

```js
angular.module('introToAngularApp')
    .controller('RouteCtrl', function($scope) {
        $scope.$on('$routeChangeStart', function(event, current, previous) {
            console.log('Route change start');
        });
        $scope.$on('$routeChangeSuccess', function() {
            console.log('Route change success');
        });
    });
```

```html
<body ng-app="introToAngularApp">
    <div ng-controller="RouteCtrl">
        <a href="#/">Home</a> | <a href="#/about">About</a> | <a href="#/contact">Contact</a>
    </div>
    <div ng-view></div>
</body>
```

-----

<!--

_id: 53f384bf7cef8c8129000354
master: content
createdAt: 2014-08-19T17:09:19.000Z
updatedAt: 2014-08-26T20:58:31.160Z


-->

# routing events

```js
angular.module('introToAngularApp')
    .controller('RouteCtrl', function($scope) {
       $scope.$on('$routeChangeStart', function(event, current, previous) {
            $scope.path = current.originalPath;
        });
        $scope.$on('$routeChangeSuccess', function(event, current, prev) {      
            $scope.path = current.originalPath;
        });
    });
```

```html
<body ng-app="introToAngularApp">
    <div ng-controller="RouteCtrl">
        <a href="#/">Home</a> | <a href="#/about">About</a> | <a href="#/contact">Contact</a>
        
        Path: {{path}}
    </div>
    <div ng-view></div>
</body>
```

-----

<!--

_id: 53f386cc7cef8c8129000355
master: content
createdAt: 2014-08-19T17:18:04.000Z
updatedAt: 2014-08-26T20:58:31.160Z


-->

# $location

* A service that exposes information about the current path
* Can be injected anywhere
* Can change the url also

-----

<!--

_id: 53f387267cef8c8129000356
master: content
createdAt: 2014-08-19T17:19:34.000Z
updatedAt: 2014-08-26T20:58:31.160Z


-->

# routing events

```js
angular.module('introToAngularApp')
    .controller('RouteCtrl', function($scope, $location) {
        $location.path('/about');
        $scope.location = $location;
    });
```

```html
<body ng-app="introToAngularApp">
    <div ng-controller="RouteCtrl">
        <a href="#/">Home</a> | <a href="#/about">About</a> | <a href="#/contact">Contact</a>
        <ul>
            <li>Path [g/s]: {{location.path()}}</li>
            <li>Url [g/s]: {{location.url()}}</li>      
            <li>AbsUrl [g]: {{location.absUrl()}}</li>
            <li>Protocol [g]: {{location.protocol()}}</li>
            <li>Host [g]: {{location.host()}}</li>  
            <li>Port [g]: {{location.port()}}</li>      
            <li>Search [g/s]: {{location.search()}}</li>
            <li>Hash [g/s]: {{location.hash()}}</li>        
        </ul>
    </div>
    
    <div ng-view></div>
</body>
```

-----

<!--

_id: 53f38b377cef8c8129000357
master: content
createdAt: 2014-08-19T17:36:55.000Z
updatedAt: 2014-08-26T20:58:31.161Z


-->

# $location events

* Can listen to certain location events
* `$locationChangeStart`
* `$locationChangeSuccess`


-----

<!--

_id: 53fabe837cef8c812900046f
master: vertical
createdAt: 2014-08-25T04:41:39.000Z
updatedAt: 2014-08-26T20:58:31.161Z


-->

# BREAK

{{ results }}

-----

<!--

_id: 53f3a6937cef8c8129000364
master: vertical
createdAt: 2014-08-19T19:33:39.000Z
updatedAt: 2014-08-26T20:58:31.161Z


-->

# Working with forms

-----

<!--

_id: 53f214647cef8c812900031d
master: content
createdAt: 2014-08-18T14:57:40.000Z
updatedAt: 2014-08-26T20:58:31.161Z


-->

# Forms

* Angular has built in validation
* An instance of  `FormController`
* Form needs a name
* Can have nested forms with `ng-form`
* Automatically prevents submission unless `action` is filled in


-----

<!--

_id: 53f3a77f7cef8c8129000365
master: content
createdAt: 2014-08-19T19:37:35.000Z
updatedAt: 2014-08-26T20:58:31.161Z


-->

# Forms

## Validation

* Validates HTML5 input types: (text, number, url, email, radio, checkbox)
* Support for (required, pattern, minlength, maxlength, min, max)
* CSS classes are added depending on the state
* `ng-valid` is set if the form is valid.
* `ng-invalid` is set if the form is invalid.
* `ng-pristine` is set if the form is pristine.
* `ng-dirty` is set if the form is dirty.
* `ng-submitted` is set if the form was submitted.

-----

<!--

_id: 53f3b5b57cef8c812900036f
master: content
createdAt: 2014-08-19T20:38:13.000Z
updatedAt: 2014-08-26T20:58:31.161Z


-->

# FORMS CSS

{{codeblock id:"53f3b0b17cef8c8129000368"}}

* This is an example of how you can add custom CSS to display errors

-----

<!--

_id: 53f3ab487cef8c8129000366
master: content
createdAt: 2014-08-19T19:53:44.000Z
updatedAt: 2014-08-26T20:58:31.162Z


-->

# Forms

## Validation

{{codeblock id:"53f3b10b7cef8c8129000369" visible:"2-16"}}


-----

<!--

_id: 53f3b1b57cef8c812900036a
master: content
createdAt: 2014-08-19T20:21:09.000Z
updatedAt: 2014-08-26T20:58:31.162Z


-->

# Forms

## Validation

{{codeblock id:"53f3b10b7cef8c8129000369" visible:"2,15" highlight:"2,15"}}

```html
<pre>{{contact}}</pre>
<p>
    {{user.name}}
    {{user.email}}
</p>
```

* When a name is present, it get's put on the current scope
* Different than `ng-model`

-----

<!--

_id: 53f3b2c87cef8c812900036b
master: content
createdAt: 2014-08-19T20:25:44.000Z
updatedAt: 2014-08-26T20:58:31.162Z


-->

# Forms

## Validation

{{codeblock id:"53f3b10b7cef8c8129000369" visible:"2-6,15" highlight:"3"}}

* When a name is present, it get's put on the `$scope` as `contact.name`

-----

<!--

_id: 53f3b3137cef8c812900036c
master: content
createdAt: 2014-08-19T20:26:59.000Z
updatedAt: 2014-08-26T20:58:31.162Z


-->

# Forms

## Validation

{{codeblock id:"53f3b10b7cef8c8129000369" visible:"2-6,15" highlight:"4-6"}}

* `.$invalid`, `.$valid`, `.$error.required`, `.$error.email`

-----

<!--

_id: 53f3b4d77cef8c812900036d
master: content
createdAt: 2014-08-19T20:34:31.000Z
updatedAt: 2014-08-26T20:58:31.162Z


-->

# Forms

## Validation

{{codeblock id:"53f3b10b7cef8c8129000369" visible:"2,8-12,15" highlight:"8"}}

* Again has a name, this time is `type="email"`

-----

<!--

_id: 53f3b52a7cef8c812900036e
master: content
createdAt: 2014-08-19T20:35:54.000Z
updatedAt: 2014-08-26T20:58:31.162Z


-->

# Forms

## Validation

{{codeblock id:"53f3b10b7cef8c8129000369" visible:"2,8-12,15" highlight:"9-12"}}

* `.$invalid`, `.$valid`, `.$error.required`, `.$error.email`

-----

<!--

_id: 53f3b6ec7cef8c8129000370
master: content
createdAt: 2014-08-19T20:43:24.000Z
updatedAt: 2014-08-26T20:58:31.163Z


-->

# model options

## ng-model-options

```html
<form>
    <input type="text" ng-model="user.name" ng-model-options="{ updateOn: 'blur' }" />
</form>
```

* Can control when models update and validate
* Can debounce updates

-----

<!--

_id: 53fbfaf97cef8c8129000481
master: content
createdAt: 2014-08-26T03:11:53.000Z
updatedAt: 2014-08-26T20:58:31.163Z


-->

# model options

## ng-model-options

```html
<form>
    <input type="text" ng-model="user.name" ng-model-options="{ debounce: 1000 }" />
</form>
```

* Only updates the model ever 1 second

-----

<!--

_id: 53f3c3cd7cef8c8129000372
master: content
createdAt: 2014-08-19T21:38:21.000Z
updatedAt: 2014-08-26T20:58:31.163Z


-->

# Input [type=text]

```html
<input type="text"
    [required=""] // Required validation
    [ng-required=""] // Another type of required, can use data binding
    [ng-minlength=""] // Specifies a minimum length
    [ng-maxlength=""] // Specifies a maximum length
    [ng-pattern=""] // Validate with a regular expression
    [ng-change=""] // Change event handler
    [ng-trim=""] // If set to false, angular will not trim input which it does by default
    />

```

* Several other types of validation
* Extra options

-----

<!--

_id: 53f3c4d47cef8c8129000375
master: content
createdAt: 2014-08-19T21:42:44.000Z
updatedAt: 2014-08-26T20:58:31.163Z


-->

# Input [type=email]

```html
<input type="email"
    [required=""] // Required validation
    [ng-required=""] // Another type of required, can use data binding
    [ng-minlength=""] // Specifies a minimum length
    [ng-maxlength=""] // Specifies a maximum length
    [ng-pattern=""] // Validate with a regular expression
    [ng-change=""] // Change event handler
    [ng-trim=""] // If set to false, angular will not trim input which it does by default
    />

```

-----

<!--

_id: 53f3c4eb7cef8c8129000376
master: content
createdAt: 2014-08-19T21:43:07.000Z
updatedAt: 2014-08-26T20:58:31.163Z


-->

# Input [type=url]

```html
<input type="email"
    [required=""] // Required validation
    [ng-required=""] // Another type of required, can use data binding
    [ng-minlength=""] // Specifies a minimum length
    [ng-maxlength=""] // Specifies a maximum length
    [ng-pattern=""] // Validate with a regular expression
    [ng-change=""] // Change event handler
    [ng-trim=""] // If set to false, angular will not trim input which it does by default
    />

```

-----

<!--

_id: 53f3c4197cef8c8129000373
master: content
createdAt: 2014-08-19T21:39:37.000Z
updatedAt: 2014-08-26T20:58:31.163Z


-->

# Input [type=number]

```html
<input type="number"
    [required=""] // Required validation
    [min=""] // Minimum value
    [max=""] // Maximum value   
    [ng-required=""] // Another type of required, can use data binding
    [ng-minlength=""] // Specifies a minimum length
    [ng-maxlength=""] // Specifies a maximum length
    [ng-pattern=""] // Validate with a regular expression
    [ng-change=""] // Change event handler
    [ng-trim=""] // If set to false, angular will not trim input which it does by default
    />

```

-----

<!--

_id: 53f3b7587cef8c8129000371
master: content
createdAt: 2014-08-19T20:45:12.000Z
updatedAt: 2014-08-26T20:58:31.164Z


-->

# Input [type=date]

```html
<input type="date"
    [required=""] // Required validation
    [min=""] // Minimum value
    [max=""] // Maximum value   
    [ng-required=""] // Another type of required, can use data binding
    [ng-pattern=""] // Validate with a regular expression
    [ng-change=""] // Change event handler
    [ng-trim=""] // If set to false, angular will not trim input which it does by default
    />

```

* Requires a valid ISO-8601 date format (yyyy-MM-dd), for example: 2009-01-06

-----

<!--

_id: 53f3c48a7cef8c8129000374
master: content
createdAt: 2014-08-19T21:41:30.000Z
updatedAt: 2014-08-26T20:58:31.164Z


-->

# Input [type=time]

```html
<input type="time"
    [required=""] // Required validation
    [min=""] // Minimum value
    [max=""] // Maximum value   
    [ng-required=""] // Another type of required, can use data binding
    [ng-pattern=""] // Validate with a regular expression
    [ng-change=""] // Change event handler
    [ng-trim=""] // If set to false, angular will not trim input which it does by default
    />

```

* Requires a valid ISO-8601 local time format (HH:mm), for example: 14:57

-----

<!--

_id: 53f3c5b87cef8c8129000377
master: content
createdAt: 2014-08-19T21:46:32.000Z
updatedAt: 2014-08-26T20:58:31.164Z


-->

# Custom Validation

* You can extend `ngModel`'s **parsers** or **formatters** to add validation
* `ngModel` has a controller called `ngModelController`
* Custom validation requires the `ngModel` 
* There's a hacky way with `$parsers` and `$formatters` and a new way in `1.3.x` with `$validators`

-----

<!--

_id: 53f49d357cef8c812900037a
master: content
createdAt: 2014-08-20T13:05:57.000Z
updatedAt: 2014-08-26T20:58:31.164Z


-->

# $parsers

* Intercepts the model value on it's way to the DOM.
* Can call `$setValidity` to validate the value
* Return undefined when in valid
* Last return value sets the value in the UI

-----

<!--

_id: 53f3c6b27cef8c8129000379
master: content
createdAt: 2014-08-19T21:50:42.000Z
updatedAt: 2014-08-26T20:58:31.164Z


-->

# Custom Validation

{{codeblock id:"53f3c6987cef8c8129000378"}}


-----

<!--

_id: 53f49eae7cef8c812900037b
master: content
createdAt: 2014-08-20T13:12:14.000Z
updatedAt: 2014-08-26T20:58:31.165Z


-->

# Custom Validation

```html
<div ng-app="form-example1">
    <form name="custom">
        <input type="text" integer ng-model="number" name="number" />
        <span ng-show="custom.number.$dirty && custom.number.$error.integer">Invalid Integer</span>
    </form>
</div>
```

-----

<!--

_id: 53f49f9a7cef8c812900037c
master: content
createdAt: 2014-08-20T13:16:10.000Z
updatedAt: 2014-08-26T20:58:31.165Z


-->

# Custom Validation

{{codeblock id:"53f49fb67cef8c812900037d"}}


-----

<!--

_id: 53f4a0037cef8c812900037e
master: content
createdAt: 2014-08-20T13:17:55.000Z
updatedAt: 2014-08-26T20:58:31.165Z


-->

# Custom Validation

```html
<div ng-app="form-example1">
    <form name="custom">
        <input type="text" integer ng-model="number" name="number" />
        <span ng-show="custom.number.$dirty && custom.number.$error.integer">Invalid Integer</span>
    </form>
</div>
```

-----

<!--

_id: 53f3a67a7cef8c8129000363
master: vertical
createdAt: 2014-08-19T19:33:14.000Z
updatedAt: 2014-08-26T20:58:31.165Z


-->

# Debugging

-----

<!--

_id: 53f2144b7cef8c812900031c
master: content
createdAt: 2014-08-18T14:57:15.000Z
updatedAt: 2014-08-26T20:58:31.165Z


-->

# Debugging

* `angular.element` allows you to inspect an element with jQLite
        
* Must use `document.querySelector();` or some other way to get an element reference.
* Inspect element then use  `angular.element($0);` for grabbing it

-----

<!--

_id: 53f3a39f7cef8c812900035a
master: content
createdAt: 2014-08-19T19:21:03.000Z
updatedAt: 2014-08-26T20:58:31.166Z


-->

# Debugging

## .scope()

* `angular.element(document.documentElement).scope();`
* Gives you the current scope of that element

-----

<!--

_id: 53f3a3c17cef8c812900035b
master: content
createdAt: 2014-08-19T19:21:37.000Z
updatedAt: 2014-08-26T20:58:31.166Z


-->

# Debugging

## .controller([name])

* `angular.element(document.documentElement).controller();`
* The current controller on an element
* Can also get a directive's controller by passing a name `ngModel`

-----

<!--

_id: 53f3a4077cef8c812900035c
master: content
createdAt: 2014-08-19T19:22:47.000Z
updatedAt: 2014-08-26T20:58:31.166Z


-->

# Debugging

## .injector()

* `angular.element(document.documentElement).injector();`
* Retrieves the injector for the current element

-----

<!--

_id: 53f3a4217cef8c812900035d
master: content
createdAt: 2014-08-19T19:23:13.000Z
updatedAt: 2014-08-26T20:58:31.166Z


-->

# Debugging

## .isolateScope()

* `angular.element(document.documentElement).isolateScope();`
* Will retrieve the isolate scope if one is available   

-----

<!--

_id: 53f3a4507cef8c812900035e
master: content
createdAt: 2014-08-19T19:24:00.000Z
updatedAt: 2014-08-26T20:58:31.166Z


-->

# Debugging

## .isolateScope()

* `angular.element(document.documentElement).inheritedData();`
* Similar to `.data()`, but will walk up the DOM chain

-----

<!--

_id: 53f3991e7cef8c8129000358
master: content
createdAt: 2014-08-19T18:36:14.000Z
updatedAt: 2014-08-26T20:58:31.167Z


-->

# Debugging

* [Batarang](https://chrome.google.com/webstore/detail/angularjs-batarang/ighdmehidhipcmcojjgiloacoafjmpfk?hl=en) is a chrome extension for analysing an angular app
* Adds a tab to your inspector

![](http://d.pr/i/fxPs+)

-----

<!--

_id: 53f3a5837cef8c812900035f
master: content
createdAt: 2014-08-19T19:29:07.000Z
updatedAt: 2014-08-26T20:58:31.167Z


-->

# Debugging

* Performance analyzes your $watch's

![](http://d.pr/i/y9bD+)

-----

<!--

_id: 53f3a5d47cef8c8129000360
master: content
createdAt: 2014-08-19T19:30:28.000Z
updatedAt: 2014-08-26T20:58:31.167Z


-->

# Debugging

* See a high level look at dependency tree

![](http://d.pr/i/2iEe+)

-----

<!--

_id: 53f3a6187cef8c8129000361
master: content
createdAt: 2014-08-19T19:31:36.000Z
updatedAt: 2014-08-26T20:58:31.167Z


-->

# Debugging

* Can highlight bindings, scopes, and applications

![](http://d.pr/i/KKkF+)

-----

<!--

_id: 53f3a6587cef8c8129000362
master: content
createdAt: 2014-08-19T19:32:40.000Z
updatedAt: 2014-08-26T20:58:31.167Z


-->

# Debugging

* Adds a tab to your inspect element window to see current scope

![](http://d.pr/i/ohpb+)

-----

<!--

_id: 53f4a22e7cef8c8129000380
master: vertical
createdAt: 2014-08-20T13:27:10.000Z
updatedAt: 2014-08-26T20:58:31.167Z


-->

# Testing

-----

<!--

_id: 53f4a3737cef8c8129000383
master: content
createdAt: 2014-08-20T13:32:35.000Z
updatedAt: 2014-08-26T20:58:31.168Z


-->

# Why Testing?

* Unit testing helps reduce bugs in your application
* You test single isolated "units" of code
* Testable code is often maintainable
* Helps you write smaller, decoupled code
* Coupled code is hard to write

-----

<!--

_id: 53f214897cef8c8129000322
master: content-alt
createdAt: 2014-08-18T14:58:17.000Z
updatedAt: 2014-08-26T20:58:31.168Z


-->

# Testing overview

* In angular, testing is a first class citizen
* `angular-mock` has APIs to aid in testing
* Karma is a test runner that works well with angular in node.js
* You can also run tests in the browser
* Jasmine runs easily inside Karma alongside angular-mock.js
* Protractor is an end to end test framework like selenium


-----

<!--

_id: 53f4a2a57cef8c8129000381
master: content
createdAt: 2014-08-20T13:29:09.000Z
updatedAt: 2014-08-26T20:58:31.168Z


-->

# Setting up karma

* Install Karma
* `npm install -g karma`
* Create a `karma.conf.js` file

-----

<!--

_id: 53f4a3037cef8c8129000382
master: content
createdAt: 2014-08-20T13:30:43.000Z
updatedAt: 2014-08-26T20:58:31.168Z


-->

# Setting up Karma

```js
module.exports = function(config){
  config.set({
    basePath : '../',
    files : [
      'app/bower_components/angular/angular.js',
      'app/bower_components/angular-mocks/angular-mocks.js',
      'app/js/**/*.js',
      'test/unit/**/*.js'
    ],
    autoWatch : true,
    frameworks: ['jasmine'],
    browsers : ['Chrome'],
    plugins : [
            'karma-chrome-launcher',
            'karma-firefox-launcher',
            'karma-jasmine'
            ]
  });
};
```

-----

<!--

_id: 53f4a4437cef8c8129000385
master: content
createdAt: 2014-08-20T13:36:03.000Z
updatedAt: 2014-08-26T20:58:31.169Z


-->

# Setting up Karma

* `baseUrl` helps set up relative path of code
* `files` is an array of files you need included in your test suite
* `autowatch` will watch for changes to your code and re-run tests
* `frameworks` allows you to pick your JavaScript test runner
* `browsers` will tell Karma which browsers to run the tests in
* `plugins` is a list of karma plugins to load

-----

<!--

_id: 53f4a6627cef8c8129000389
master: content
createdAt: 2014-08-20T13:45:06.000Z
updatedAt: 2014-08-26T20:58:31.169Z


-->

# Running Karma

* Runs from command line
* Uses node.js

```bash
karma start test/karma.conf.js
```

* Can add this line to scripts in package.json

```js
"scripts": {
    "test": "karma start test/karma.conf.js"
}
```


* Then you can run `npm test`



-----

<!--

_id: 53f4a7ea7cef8c812900038b
master: content
createdAt: 2014-08-20T13:51:38.000Z
updatedAt: 2014-08-26T20:58:31.169Z


-->

# running karma

* Opens up a browser and connects with sockets, then runs tests

![](http://d.pr/i/v06s+)

-----

<!--

_id: 53f4a5137cef8c8129000386
master: content
createdAt: 2014-08-20T13:39:31.000Z
updatedAt: 2014-08-26T20:58:31.169Z


-->

# ngMock

* Provides test helpers on `angular.mock` namespace
* Has HTTP mocking with `$httpBackend`
* `module()` loads in a given module
* `inject()` injects any dependency needed
* Has mocks for `$timeout`, `$interval`, `$log`, and `$exceptionHandler`

-----

<!--

_id: 53f4a6007cef8c8129000387
master: content
createdAt: 2014-08-20T13:43:28.000Z
updatedAt: 2014-08-26T20:58:31.169Z


-->

# using ngmock

* Include `angular-mocks.js` after angular
* Use the APIs!

-----

<!--

_id: 53f4a68a7cef8c812900038a
master: content
createdAt: 2014-08-20T13:45:46.000Z
updatedAt: 2014-08-26T20:58:31.170Z


-->

# Testing with jasmine

{{codeblock id:"53f4a8707cef8c812900038d"}}


-----

<!--

_id: 53f4a8767cef8c812900038e
master: content
createdAt: 2014-08-20T13:53:58.000Z
updatedAt: 2014-08-26T20:58:31.170Z


-->

# Testing with jasmine

{{codeblock id:"53f4a8707cef8c812900038d" highlight:"1-4"}}

* Just a simple app and controller for demo purposes


-----

<!--

_id: 53f4a89b7cef8c812900038f
master: content
createdAt: 2014-08-20T13:54:35.000Z
updatedAt: 2014-08-26T20:58:31.170Z


-->

# Testing with jasmine

{{codeblock id:"53f4a8707cef8c812900038d" highlight:"6,13"}}

* Describe sets up a suite of tests


-----

<!--

_id: 53f4a8be7cef8c8129000390
master: content
createdAt: 2014-08-20T13:55:10.000Z
updatedAt: 2014-08-26T20:58:31.170Z


-->

# Testing with jasmine

{{codeblock id:"53f4a8707cef8c812900038d" highlight:"7"}}

* `beforeEach` will run before each test in the suite
* `module` retrieves the given module and instantiates it


-----

<!--

_id: 53f4a91c7cef8c8129000391
master: content
createdAt: 2014-08-20T13:56:44.000Z
updatedAt: 2014-08-26T20:58:31.170Z


-->

# Testing with jasmine

{{codeblock id:"53f4a8707cef8c812900038d" highlight:"9,12"}}

* `it` describes what should happen in the test
* `inject` retrieves the given dependencies


-----

<!--

_id: 53f4a9547cef8c8129000392
master: content
createdAt: 2014-08-20T13:57:40.000Z
updatedAt: 2014-08-26T20:58:31.170Z


-->

# Testing with jasmine

{{codeblock id:"53f4a8707cef8c812900038d" highlight:"10"}}


* `$controller` is how angular retrieves controllers
* So we can get the constructor for our `FooCtrl`

-----

<!--

_id: 53f4a9827cef8c8129000393
master: content
createdAt: 2014-08-20T13:58:26.000Z
updatedAt: 2014-08-26T20:58:31.171Z


-->

# Testing with jasmine

{{codeblock id:"53f4a8707cef8c812900038d" highlight:"11"}}

* Now we can test the controller


-----

<!--

_id: 53f4a99f7cef8c8129000394
master: content
createdAt: 2014-08-20T13:58:55.000Z
updatedAt: 2014-08-26T20:58:31.171Z


-->

# Testing with dependencies

{{codeblock id:"53f4aa017cef8c8129000396"}}

* Here's a controller from our sample app that needs `$scope`

-----

<!--

_id: 53f4a9bd7cef8c8129000395
master: content
createdAt: 2014-08-20T13:59:25.000Z
updatedAt: 2014-08-26T20:58:31.171Z


-->

# Testing with dependencies

{{codeblock id:"53f4aa107cef8c8129000397"}}


-----

<!--

_id: 53f4abdf7cef8c8129000398
master: content
createdAt: 2014-08-20T14:08:31.000Z
updatedAt: 2014-08-26T20:58:31.171Z


-->

# Testing with dependencies

{{codeblock id:"53f4aa107cef8c8129000397" visible:"3-11"}}

* Inject `$rootScope`
* Call `$rootScope.$new` to create a fake scope
* `$controller` takes an object as a second argument for the dependencies


-----

<!--

_id: 53f4ac287cef8c8129000399
master: content
createdAt: 2014-08-20T14:09:44.000Z
updatedAt: 2014-08-26T20:58:31.171Z


-->

# Testing with dependencies

{{codeblock id:"53f4aa107cef8c8129000397" visible:"13-21"}}

* Can then run tests against the dependencies


-----

<!--

_id: 53fbf8317cef8c812900047f
master: content
createdAt: 2014-08-26T03:00:01.000Z
updatedAt: 2014-08-26T20:58:31.171Z


-->

# Testing a service

```js
describe('service', function() {
  beforeEach(module('introToAngularApp.services'));


  describe('version', function() {
    it('should return current version', inject(function(version) {
      expect(version).toEqual('0.1');
    }));
  });
});
```

* Use `inject` in inject the service

-----

<!--

_id: 53fbf88c7cef8c8129000480
master: content
createdAt: 2014-08-26T03:01:32.000Z
updatedAt: 2014-08-26T20:58:31.172Z


-->

# Testing a service

```js
describe('service', function() {
    var version;
    
    beforeEach(function() {
        module('introToAngularApp.services'));
        
        inject(function(_version_) {
            version = _version_;
        });
    });
    

    describe('version', function() {
       it('should return current version', function() {
           expect(version).toEqual('0.1');
        });
    });
});
```

-----

<!--

_id: 53f4a6537cef8c8129000388
master: content
createdAt: 2014-08-20T13:44:51.000Z
updatedAt: 2014-08-26T20:58:31.172Z


-->

# Running in the browser

* Get `jasmine.js`, `jasmine-html.js`, `jasmine.css`, and `runner.js`
* Then `angular.js`, and `angular-mocks.js`
* Add all the scripts to an HTML page

-----

<!--

_id: 53f4a2157cef8c812900037f
master: content
createdAt: 2014-08-20T13:26:45.000Z
updatedAt: 2014-08-26T20:58:31.172Z


-->

# Scripts for jasmine

```html
<link href="//cdnjs.cloudflare.com/ajax/libs/jasmine/2.0.0/jasmine.css" type="stylesheet" />
<script src="//cdnjs.cloudflare.com/ajax/libs/jasmine/2.0.0/jasmine.js" ></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jasmine/2.0.0/jasmine-html.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jasmine/2.0.0/boot.js"></script>
<script src="https://code.angularjs.org/1.3.0-beta.18/angular.js"></script>
<script src="https://code.angularjs.org/1.3.0-beta.18/angular-mocks.js"></script>
<script src="your-code.js"></script>
<script src="your-tests.js"></script>
```

-----

<!--

_id: 53fa8f217cef8c8129000469
master: vertical
createdAt: 2014-08-25T01:19:29.000Z
updatedAt: 2014-08-26T20:58:31.172Z


-->

# Tests in the Browser

-----

<!--

_id: 53f4ad607cef8c812900039a
master: content
createdAt: 2014-08-20T14:14:56.000Z
updatedAt: 2014-08-26T20:58:31.172Z


-->

{{codeblock id:"53f4aa107cef8c8129000397"}}


-----

<!--

_id: 53fabf567cef8c8129000470
master: content
createdAt: 2014-08-25T04:45:10.000Z
updatedAt: 2014-08-26T20:58:31.205Z


-->

# ngAnimate

* You can use the `ngAnimate` module
* Will automatically add css hooks to certain types of events
* Can also do with JavaScript, but much easier with CSS

-----

<!--

_id: 53f212a17cef8c8129000303
master: content
createdAt: 2014-08-18T14:50:09.000Z
updatedAt: 2014-08-26T20:58:31.206Z


-->

# ngAnimate

* Use CSS classes to create animations that Angular automatically creates 
* Animation types
`ngRepeat`  enter, leave and move
`ngView`    enter and leave
`ngInclude` enter and leave
`ngSwitch`  enter and leave
`ngIf`  enter and leave
`ngClass`   add and remove (the CSS class(es) present)
`ngShow` & `ngHide` add and remove (the ng-hide class value)
`form` & `ngModel`  add and remove (dirty, pristine, valid, invalid & all other validations)
`ngMessages`    add and remove (ng-active & ng-inactive)
`ngMessage` enter and leave

-----

<!--

_id: 53f214747cef8c812900031f
master: content-alt
createdAt: 2014-08-18T14:57:56.000Z
updatedAt: 2014-08-26T20:58:31.206Z


-->

# Angular-ui

* http://angular-ui.github.io/
* A companion suite for angular
* Has lots of extra modules, and utilties to use

-----

<!--

_id: 53f2147b7cef8c8129000320
master: content-alt
createdAt: 2014-08-18T14:58:03.000Z
updatedAt: 2014-08-26T20:58:31.206Z


-->

# Angular-bootstrap

* http://angular-ui.github.io/bootstrap
* Directives for bootstrap
* Makes working with bootstrap easier because you don't have to call `$scope.$apply()` all the time

-----

<!--

_id: 53f214837cef8c8129000321
master: content-alt
createdAt: 2014-08-18T14:58:11.000Z
updatedAt: 2014-08-26T20:58:31.206Z


-->

# Restangular

* Takes $resource one step farther
> AngularJS service to handle Rest API Restful Resources properly and easily

* https://github.com/mgonto/restangular

-----

<!--

_id: 53f212e37cef8c8129000307
master: content-alt
createdAt: 2014-08-18T14:51:15.000Z
updatedAt: 2014-08-26T20:58:31.207Z


-->

# Angular utilities

* Angular namespace has many cross browser utitlities
* `angular.forEach` for iterating

* Angular ships with jQuery like library called jQLite via `angular.element`
* `angular.copy` will create a copy of an object
* `angular.bind` creates a copy of a function bound to a new scope like `Function.bind`
* `angular.extend` for merging objects like with `jQuery.extend`
* `angular.isArray`, `angular.isDate`, `angular.isNumber`, etc...
* `angular.lowercase`, and `angular.uppercase`
* `angular.toJson` for making a JSON string


-----

<!--

_id: 53f214a67cef8c8129000323
master: content-alt
createdAt: 2014-08-18T14:58:46.000Z
updatedAt: 2014-08-26T20:58:31.207Z


-->

# Best practices

* Minification can be a problem in angular because of the dependency injection
* Use https://github.com/olov/ng-annotate to parse code and automatically add in the `$inject`'s into your code
* Create separate modules per behavior rather than by just controllers and directives
* For example have a `cart` folder with the files neccessary to run the `cartModule` by itself. This makes it reusable, and portable.
* Use grunt to automate testing

-----

<!--

_id: 53fac24b7cef8c8129000472
master: content-alt
createdAt: 2014-08-25T04:57:47.000Z
updatedAt: 2014-08-26T20:58:31.207Z


-->

# Best practices

```js
(function() {

// Controller for the application
function AppCtrl(Navigation) {
    this.navigationItems = Navigation.list;
}

angular.module('introToAngularApp.controllers', [])
    .controller('AppCtrl', AppCtrl)
}());
```

* Adopt a style guide for your code
* Try to pass named functions rather than anonymous functions

-----

<!--

_id: 53fac2b67cef8c8129000473
master: content-alt
createdAt: 2014-08-25T04:59:34.000Z
updatedAt: 2014-08-26T20:58:31.207Z


-->

# Best practices

* Keep state out of controllers, move it to a service because controllers can have a short lifespan
* Use controllerAs syntax in your views and controllers 
* Prefix directives with 2 characters to distinguish

-----

<!--

_id: 53fac42e7cef8c8129000474
master: content-alt
createdAt: 2014-08-25T05:05:50.000Z
updatedAt: 2014-08-26T20:58:31.207Z


-->

# LAB

* http://plnkr.co/edit/XQp7KI

-----

<!--

_id: 53fac2077cef8c8129000471
master: content
createdAt: 2014-08-25T04:56:39.000Z
updatedAt: 2014-08-26T20:58:31.208Z


-->

# Thanks!

[@jcreamer898](http://twitter.com)

Slides: http://bit.ly/a2-angular-slides
Slides Zip: http://bit.ly/a2-angular-slides-zip

https://github.com/appendto/training-labs-angularjs-fundamentals

1. http://plnkr.co/edit/rdktWV
2. http://plnkr.co/edit/NODKF9
3. http://plnkr.co/edit/5rCw3H
4. http://plnkr.co/edit/lD8YwE